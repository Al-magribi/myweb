import{B as s,j as e,N as a,A as l}from"./index-BoGK812d.js";import{b as i,L as t}from"./vendor-DgcVSihM.js";const r=()=>{const[r,c]=i.useState(1),[n,d]=i.useState(16),[o,m]=i.useState(""),{data:x,isLoading:h,error:j}=s({page:r,limit:n,search:o}),{products:p=[],total:u=0,page:g,limit:N}=x||{},b=s=>{const a=[],l=Math.floor(s),i=s%1!=0;for(let r=0;r<l;r++)a.push(e.jsx("i",{className:"bi bi-star-fill text-warning"},`full-${r}`));i&&a.push(e.jsx("i",{className:"bi bi-star-half text-warning"},"half"));const t=5-Math.ceil(s);for(let r=0;r<t;r++)a.push(e.jsx("i",{className:"bi bi-star text-warning"},`empty-${r}`));return a},v=s=>{c(s)};return h?e.jsxs(i.Fragment,{children:[e.jsx(a,{}),e.jsx("main",{style:{marginTop:80},className:"container py-3",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}),e.jsx(l,{})]}):j?e.jsxs(i.Fragment,{children:[e.jsx(a,{}),e.jsx("main",{style:{marginTop:80},className:"container py-3",children:e.jsx("div",{className:"alert alert-danger",role:"alert",children:"Error loading products. Please try again later."})}),e.jsx(l,{})]}):(console.log(p),e.jsxs(i.Fragment,{children:[e.jsx(a,{}),e.jsx("title",{children:"Products"}),e.jsxs("main",{style:{marginTop:80},className:"container py-3",children:[e.jsx("h2",{className:"text-center mb-4",children:"Products"}),e.jsx("form",{onSubmit:s=>{s.preventDefault(),c(1)},className:"mb-4",children:e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"Search products...",value:o,onChange:s=>m(s.target.value)}),e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Search"})]})}),e.jsx("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4",children:null==p?void 0:p.map((s=>e.jsx("div",{className:"col",children:e.jsxs("div",{className:"card h-100 shadow-sm hover-shadow",children:[e.jsx("img",{src:s.image,className:"card-img-top",alt:s.name,style:{height:"200px",objectFit:"cover"}}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title",children:s.name}),e.jsxs("p",{className:"card-text fw-bold text-primary",children:["Rp ",parseFloat(s.price).toLocaleString("id-ID")]}),e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("div",{className:"me-2",children:b(s.rating)}),e.jsxs("small",{className:"text-muted",children:[s.rating?Number(s.rating).toFixed(1):"0.0",s.reviewCount?` (${s.reviewCount})`:""]})]}),e.jsxs("div",{className:"text-success mb-3",children:[e.jsx("i",{className:"bi bi-graph-up-arrow me-1"}),Number((null==s?void 0:s.totalsales)+240)," sold"]}),e.jsx(t,{to:`/product/${s.id}`,className:"btn btn-primary w-100",children:"View Details"})]})]})},s.id)))}),u>0&&e.jsx("nav",{className:"mt-4",children:e.jsxs("ul",{className:"pagination pagination-sm justify-content-center",children:[e.jsx("li",{className:"page-item "+(1===r?"disabled":""),children:e.jsx("button",{className:"page-link",onClick:()=>v(r-1),disabled:1===r,children:e.jsx("i",{className:"bi bi-chevron-double-left"})})}),[...Array(Math.ceil(u/n))].map(((s,a)=>e.jsx("li",{className:"page-item "+(r===a+1?"active":""),children:e.jsx("button",{className:"page-link",onClick:()=>v(a+1),children:a+1})},a+1))),e.jsx("li",{className:"page-item "+(r===Math.ceil(u/n)?"disabled":""),children:e.jsx("button",{className:"page-link",onClick:()=>v(r+1),disabled:r===Math.ceil(u/n),children:e.jsx("i",{className:"bi bi-chevron-double-right"})})})]})})]}),e.jsx(l,{})]}))};export{r as default};
//# sourceMappingURL=Products-DhIxofGV.js.map
