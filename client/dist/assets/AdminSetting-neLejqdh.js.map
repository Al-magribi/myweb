{"version":3,"file":"AdminSetting-neLejqdh.js","sources":["../../src/pages/admin/setting/AdminSetting.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Layout from \"../layout/Layout\";\r\nimport {\r\n  useGetConfigQuery,\r\n  useUpdateConfigMutation,\r\n} from \"../../../controller/api/setting/ApiSetting\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst AdminSetting = () => {\r\n  const { data: config, isLoading } = useGetConfigQuery();\r\n  const [\r\n    updateConfig,\r\n    { isSuccess, isLoading: updateLoading, isError, reset },\r\n  ] = useUpdateConfigMutation();\r\n  const [formData, setFormData] = useState({});\r\n\r\n  React.useEffect(() => {\r\n    if (config) {\r\n      setFormData(config);\r\n    }\r\n  }, [config]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    toast.promise(\r\n      updateConfig(formData)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Updating...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess || isError) {\r\n      reset();\r\n    }\r\n  }, [isSuccess, isError]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Layout title='Admin Setting'>\r\n        <div className='container-fluid'>\r\n          <div className='d-flex justify-content-center'>\r\n            <div className='spinner-border' role='status'>\r\n              <span className='visually-hidden'>Loading...</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Layout>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Layout title='Admin Setting'>\r\n      <div className='container-fluid'>\r\n        <div className='row'>\r\n          <div className='col-12'>\r\n            <div className='card shadow'>\r\n              <div className='card-header bg-primary text-white'>\r\n                <h5 className='mb-0'>Application Settings</h5>\r\n              </div>\r\n              <div className='card-body'>\r\n                <form onSubmit={handleSubmit}>\r\n                  <div className='row'>\r\n                    {/* Domain Settings */}\r\n                    <div className='col-md-6 mb-3'>\r\n                      <div className='card h-100'>\r\n                        <div className='card-header bg-light'>\r\n                          <h6 className='mb-0'>Domain Settings</h6>\r\n                        </div>\r\n                        <div className='card-body'>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Domain URL</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='domain'\r\n                              value={formData.domain || \"\"}\r\n                              onChange={handleChange}\r\n                              placeholder='https://example.com'\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Midtrans Settings */}\r\n                    <div className='col-md-6 mb-3'>\r\n                      <div className='card h-100'>\r\n                        <div className='card-header bg-light'>\r\n                          <h6 className='mb-0'>Midtrans Settings</h6>\r\n                        </div>\r\n                        <div className='card-body'>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Server Key</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='mid_server_key'\r\n                              value={formData.mid_server_key || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Client Key</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='mid_client_key'\r\n                              value={formData.mid_client_key || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Merchant ID</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='mid_merchant_id'\r\n                              value={formData.mid_merchant_id || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Base URL</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='mid_base_url'\r\n                              value={formData.mid_base_url || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* SMTP Settings */}\r\n                    <div className='col-md-6 mb-3'>\r\n                      <div className='card h-100'>\r\n                        <div className='card-header bg-light'>\r\n                          <h6 className='mb-0'>SMTP Settings</h6>\r\n                        </div>\r\n                        <div className='card-body'>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP Host</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='smtp_host'\r\n                              value={formData.smtp_host || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP Port</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='smtp_port'\r\n                              value={formData.smtp_port || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP Email</label>\r\n                            <input\r\n                              type='email'\r\n                              className='form-control'\r\n                              name='smtp_email'\r\n                              value={formData.smtp_email || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP Password</label>\r\n                            <input\r\n                              type='password'\r\n                              className='form-control'\r\n                              name='smtp_pass'\r\n                              value={formData.smtp_pass || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP From</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='smtp_from'\r\n                              value={formData.smtp_from || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>SMTP Name</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='smtp_name'\r\n                              value={formData.smtp_name || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Meta Settings */}\r\n                    <div className='col-md-6 mb-3'>\r\n                      <div className='card h-100'>\r\n                        <div className='card-header bg-light'>\r\n                          <h6 className='mb-0'>Meta Settings</h6>\r\n                        </div>\r\n                        <div className='card-body'>\r\n                          <div className='mb-3'>\r\n                            <label className='form-label'>Meta Pixel ID</label>\r\n                            <input\r\n                              type='text'\r\n                              className='form-control'\r\n                              name='meta_pixel'\r\n                              value={formData.meta_pixel || \"\"}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='text-end mt-3'>\r\n                    <button\r\n                      type='submit'\r\n                      className='btn btn-primary'\r\n                      disabled={updateLoading}\r\n                    >\r\n                      {updateLoading ? \"Saving...\" : \"Save Changes\"}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default AdminSetting;\r\n"],"names":["AdminSetting","data","config","isLoading","useGetConfigQuery","updateConfig","isSuccess","updateLoading","isError","reset","useUpdateConfigMutation","formData","setFormData","useState","React","useEffect","handleChange","e","name","value","target","prev","jsx","Layout","title","children","className","jsxRuntimeExports","role","jsxs","onSubmit","async","preventDefault","c","promise","unwrap","then","res","message","loading","success","error","type","domain","onChange","placeholder","mid_server_key","mid_client_key","mid_merchant_id","mid_base_url","smtp_host","smtp_port","smtp_email","smtp_pass","smtp_from","smtp_name","meta_pixel","disabled"],"mappings":"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"}