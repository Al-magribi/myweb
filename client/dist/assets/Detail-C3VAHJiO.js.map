{"version":3,"file":"Detail-C3VAHJiO.js","sources":["../../src/pages/product/Form.jsx","../../src/pages/product/FormReview.jsx","../../src/pages/product/Reviews.jsx","../../src/pages/product/Check.jsx","../../src/pages/product/Detail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useCreateOrderMutation } from \"../../controller/api/order/ApiOrder\";\r\n\r\nconst Form = ({ product }) => {\r\n  const [formData, setFormData] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n  });\r\n\r\n  const [createOrder, { isLoading, data, isSuccess, error, isError, reset }] =\r\n    useCreateOrderMutation();\r\n\r\n  const handleSubmit = () => {\r\n    if (!formData.name || !formData.email || !formData.phone) {\r\n      toast.error(\"Please fill in all fields\");\r\n      return;\r\n    }\r\n\r\n    if (window.fbq) {\r\n      window.fbq(\"track\", \"InitiateCheckout\", {\r\n        content_name: product.name,\r\n        content_ids: [product.id],\r\n        content_type: \"product\",\r\n        value: product.price,\r\n        currency: \"IDR\",\r\n      });\r\n    }\r\n\r\n    const data = {\r\n      name: formData.name,\r\n      email: formData.email,\r\n      phone: formData.phone,\r\n      productid: product.id,\r\n      quantity: 1,\r\n      url: window.location.href,\r\n    };\r\n\r\n    toast.promise(createOrder(data).unwrap(), {\r\n      loading: \"Memproses Pemesanan...\",\r\n      success: \"Pemesanan Berhasil\",\r\n      error: error?.data?.message || \"Pemesanan Gagal\",\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setFormData({\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      // Track purchase event with Meta Pixel\r\n      if (window.fbq) {\r\n        window.fbq(\"track\", \"Purchase\", {\r\n          value: product.price,\r\n          currency: \"IDR\",\r\n          content_name: product.name,\r\n          content_ids: [product.id],\r\n          content_type: \"product\",\r\n          num_items: 1,\r\n        });\r\n      }\r\n\r\n      setFormData({\r\n        name: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n      });\r\n      reset();\r\n      const closeModal = document.querySelector(\"[data-bs-dismiss='modal']\");\r\n      closeModal.click();\r\n      window.location.href = data.redirect_url;\r\n    }\r\n\r\n    if (isError) {\r\n      reset();\r\n      console.log(error);\r\n    }\r\n  }, [isSuccess, isError, error]);\r\n\r\n  return (\r\n    <div\r\n      className='modal fade'\r\n      id='order'\r\n      data-bs-backdrop='static'\r\n      data-bs-keyboard='false'\r\n      tabIndex='-1'\r\n      aria-labelledby='staticBackdropLabel'\r\n      aria-hidden='true'>\r\n      <div className='modal-dialog'>\r\n        <div className='modal-content'>\r\n          <div className='modal-header'>\r\n            <h1 className='modal-title fs-5' id='staticBackdropLabel'>\r\n              Customer Details\r\n            </h1>\r\n            <button\r\n              type='button'\r\n              className='btn-close'\r\n              data-bs-dismiss='modal'\r\n              aria-label='Close'\r\n              onClick={handleClose}></button>\r\n          </div>\r\n          <div className='modal-body'>\r\n            <div className='d-flex flex-column gap-3'>\r\n              <div className='form-floating'>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder='Full Name'\r\n                  value={formData.name}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, name: e.target.value })\r\n                  }\r\n                />\r\n                <label htmlFor='name'>Full Name</label>\r\n              </div>\r\n\r\n              <div className='form-floating'>\r\n                <input\r\n                  type='email'\r\n                  className='form-control'\r\n                  placeholder='Email Address'\r\n                  value={formData.email}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, email: e.target.value })\r\n                  }\r\n                />\r\n                <label htmlFor='email'>Email Address</label>\r\n              </div>\r\n\r\n              <div className='form-floating'>\r\n                <input\r\n                  type='text'\r\n                  className='form-control'\r\n                  placeholder='Whatsapp'\r\n                  value={formData.phone}\r\n                  onChange={(e) =>\r\n                    setFormData({ ...formData, phone: e.target.value })\r\n                  }\r\n                />\r\n                <label htmlFor='phone'>Whatsapp</label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='modal-footer'>\r\n            <button\r\n              type='button'\r\n              className='btn btn-outline-danger'\r\n              data-bs-dismiss='modal'\r\n              onClick={handleClose}>\r\n              Cancel\r\n            </button>\r\n            <button\r\n              type='button'\r\n              className='btn btn-primary'\r\n              disabled={isLoading}\r\n              onClick={handleSubmit}>\r\n              Process Order\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useAddReviewMutation } from \"../../controller/api/admin/ApiProduct\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst FormReview = () => {\r\n  const { id } = useParams();\r\n  const [formData, setFormData] = useState({\r\n    productId: id,\r\n    name: \"\",\r\n    email: \"\",\r\n    rating: 0,\r\n    reviewComment: \"\",\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n  const [addReview, { isLoading, isSuccess, isError, reset }] =\r\n    useAddReviewMutation();\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!formData.name.trim()) {\r\n      newErrors.name = \"Name is required\";\r\n    }\r\n    if (!formData.email.trim()) {\r\n      newErrors.email = \"Email is required\";\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\r\n      newErrors.email = \"Email is invalid\";\r\n    }\r\n    if (!formData.rating) {\r\n      newErrors.rating = \"Please select a rating\";\r\n    }\r\n    if (!formData.reviewComment.trim()) {\r\n      newErrors.reviewComment = \"Review comment is required\";\r\n    }\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({ ...formData, [name]: value });\r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors({ ...errors, [name]: \"\" });\r\n    }\r\n  };\r\n\r\n  const handleRatingClick = (rating) => {\r\n    setFormData({ ...formData, rating });\r\n    if (errors.rating) {\r\n      setErrors({ ...errors, rating: \"\" });\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      productId: id,\r\n      name: \"\",\r\n      email: \"\",\r\n      rating: 0,\r\n      reviewComment: \"\",\r\n    });\r\n    setErrors({});\r\n    reset();\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    toast.promise(\r\n      addReview(formData)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Submitting review...\",\r\n        success: (message) => message,\r\n        error: (error) => error.data.message,\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      resetForm();\r\n    }\r\n\r\n    if (isError) {\r\n      reset();\r\n    }\r\n  }, [isSuccess, isError]);\r\n\r\n  return (\r\n    <div className='card'>\r\n      <div className='card-body'>\r\n        <h5 className='card-title mb-3'>Write a Review</h5>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className='mb-3'>\r\n            <label className='form-label'>Rating</label>\r\n            <div className='rating-select'>\r\n              {[1, 2, 3, 4, 5].map((star) => (\r\n                <i\r\n                  key={star}\r\n                  className={`bi ${\r\n                    star <= formData.rating ? \"bi-star-fill\" : \"bi-star\"\r\n                  } fs-4 me-2 text-warning`}\r\n                  style={{ cursor: \"pointer\" }}\r\n                  onClick={() => handleRatingClick(star)}\r\n                />\r\n              ))}\r\n            </div>\r\n            {errors.rating && (\r\n              <div className='text-danger mt-1'>{errors.rating}</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className='form-floating mb-3'>\r\n            <input\r\n              type='text'\r\n              className={`form-control ${errors.name ? \"is-invalid\" : \"\"}`}\r\n              id='name'\r\n              placeholder='Enter your name'\r\n              name='name'\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor='name'>Your Name</label>\r\n            {errors.name && (\r\n              <div className='invalid-feedback'>{errors.name}</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className='form-floating mb-3'>\r\n            <input\r\n              type='email'\r\n              className={`form-control ${errors.email ? \"is-invalid\" : \"\"}`}\r\n              id='email'\r\n              placeholder='Enter your email'\r\n              name='email'\r\n              value={formData.email}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor='email'>Your Email</label>\r\n            {errors.email && (\r\n              <div className='invalid-feedback'>{errors.email}</div>\r\n            )}\r\n          </div>\r\n\r\n          <div className='form-floating mb-3'>\r\n            <textarea\r\n              className={`form-control ${\r\n                errors.reviewComment ? \"is-invalid\" : \"\"\r\n              }`}\r\n              id='reviewComment'\r\n              rows='3'\r\n              name='reviewComment'\r\n              placeholder='Write your review here...'\r\n              value={formData.reviewComment}\r\n              onChange={handleChange}\r\n            />\r\n            <label htmlFor='reviewComment'>Your Review</label>\r\n            {errors.reviewComment && (\r\n              <div className='invalid-feedback'>{errors.reviewComment}</div>\r\n            )}\r\n          </div>\r\n\r\n          <button type='submit' className='btn btn-primary'>\r\n            Submit Review\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormReview;\r\n","import React from \"react\";\r\n\r\nconst Reviews = ({\r\n  isReviewLoading,\r\n  reviewData,\r\n  reviewPage,\r\n  setReviewPage,\r\n  reviewLimit,\r\n}) => {\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(\r\n        <i key={`full-${i}`} className='bi bi-star-fill text-warning'></i>\r\n      );\r\n    }\r\n    if (hasHalfStar) {\r\n      stars.push(<i key='half' className='bi bi-star-half text-warning'></i>);\r\n    }\r\n    const emptyStars = 5 - Math.ceil(rating);\r\n    for (let i = 0; i < emptyStars; i++) {\r\n      stars.push(\r\n        <i key={`empty-${i}`} className='bi bi-star text-warning'></i>\r\n      );\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {isReviewLoading ? (\r\n        <div className='text-center py-4'>\r\n          <div className='spinner-border text-primary' role='status'>\r\n            <span className='visually-hidden'>Loading...</span>\r\n          </div>\r\n        </div>\r\n      ) : reviewData && reviewData.reviews.length > 0 ? (\r\n        <>\r\n          {reviewData.reviews.map((review) => (\r\n            <div key={review.id} className='card mb-3'>\r\n              <div className='card-body'>\r\n                <div className='d-flex justify-content-between align-items-center mb-2'>\r\n                  <div>\r\n                    <h6 className='mb-0'>{review.name}</h6>\r\n                  </div>\r\n                  <div className='text-warning'>\r\n                    {renderStars(review.rating)}\r\n                  </div>\r\n                </div>\r\n                {review.comment && (\r\n                  <p className='card-text mb-0'>{review.comment}</p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))}\r\n          {/* Pagination Controls */}\r\n          <nav className='mt-3'>\r\n            <ul className='pagination pagination-sm justify-content-center'>\r\n              {/* First page button */}\r\n              <li className={`page-item ${reviewPage === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() => setReviewPage(1)}\r\n                  disabled={reviewPage === 1}>\r\n                  <i className='bi bi-chevron-bar-left'></i>\r\n                </button>\r\n              </li>\r\n              {/* Previous page button */}\r\n              <li className={`page-item ${reviewPage === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() => setReviewPage(reviewPage - 1)}\r\n                  disabled={reviewPage === 1}>\r\n                  <i className='bi bi-chevron-double-left'></i>\r\n                </button>\r\n              </li>\r\n              {/* Numbered page buttons (max 5) */}\r\n              {(() => {\r\n                const totalPages = Math.ceil(\r\n                  (reviewData.total || 0) / reviewLimit\r\n                );\r\n                let start = Math.max(1, reviewPage - 2);\r\n                let end = Math.min(totalPages, reviewPage + 2);\r\n                if (end - start < 4) {\r\n                  if (start === 1) {\r\n                    end = Math.min(totalPages, start + 4);\r\n                  } else if (end === totalPages) {\r\n                    start = Math.max(1, end - 4);\r\n                  }\r\n                }\r\n                const pages = [];\r\n                for (let i = start; i <= end; i++) {\r\n                  pages.push(i);\r\n                }\r\n                return pages.map((pageNum) => (\r\n                  <li\r\n                    key={pageNum}\r\n                    className={`page-item ${\r\n                      reviewPage === pageNum ? \"active\" : \"\"\r\n                    }`}>\r\n                    <button\r\n                      className='page-link'\r\n                      onClick={() => setReviewPage(pageNum)}>\r\n                      {pageNum}\r\n                    </button>\r\n                  </li>\r\n                ));\r\n              })()}\r\n              {/* Next page button */}\r\n              <li\r\n                className={`page-item ${\r\n                  reviewPage ===\r\n                  Math.ceil((reviewData.total || 0) / reviewLimit)\r\n                    ? \"disabled\"\r\n                    : \"\"\r\n                }`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() => setReviewPage(reviewPage + 1)}\r\n                  disabled={\r\n                    reviewPage ===\r\n                    Math.ceil((reviewData.total || 0) / reviewLimit)\r\n                  }>\r\n                  <i className='bi bi-chevron-double-right'></i>\r\n                </button>\r\n              </li>\r\n              {/* Last page button */}\r\n              <li\r\n                className={`page-item ${\r\n                  reviewPage ===\r\n                  Math.ceil((reviewData.total || 0) / reviewLimit)\r\n                    ? \"disabled\"\r\n                    : \"\"\r\n                }`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() =>\r\n                    setReviewPage(\r\n                      Math.ceil((reviewData.total || 0) / reviewLimit)\r\n                    )\r\n                  }\r\n                  disabled={\r\n                    reviewPage ===\r\n                    Math.ceil((reviewData.total || 0) / reviewLimit)\r\n                  }>\r\n                  <i className='bi bi-chevron-bar-right'></i>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        </>\r\n      ) : (\r\n        <div className='text-center py-4'>\r\n          <p className='text-muted mb-0'>No reviews yet</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Reviews;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport { useCheckPaymentMutation } from \"../../controller/api/order/ApiOrder\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst Check = () => {\r\n  const { id } = useParams();\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [status, setStatus] = useState(false);\r\n\r\n  const [\r\n    checkPayment,\r\n    { isLoading, isError, isSuccess, error, data: msg, reset },\r\n  ] = useCheckPaymentMutation();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const data = { email, productid: id };\r\n\r\n    toast.promise(\r\n      checkPayment(data)\r\n        .unwrap()\r\n        .then((res) => res.message),\r\n      {\r\n        loading: \"Checking...\",\r\n        success: \"Payment checked\",\r\n        error: \"Payment not found\",\r\n      }\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      reset();\r\n      setMessage(msg.message);\r\n      setStatus(true);\r\n    }\r\n\r\n    if (isError) {\r\n      reset();\r\n      setMessage(error.data.message);\r\n      setStatus(false);\r\n    }\r\n  }, [isSuccess, isError, msg, error]);\r\n\r\n  return (\r\n    <div\r\n      className='modal fade'\r\n      id='checkPayment'\r\n      data-bs-backdrop='static'\r\n      data-bs-keyboard='false'\r\n      tabIndex='-1'\r\n      aria-labelledby='staticBackdropLabel'\r\n      aria-hidden='true'>\r\n      <div className='modal-dialog modal-dialog-centered'>\r\n        <div className='modal-content shadow-lg'>\r\n          <div className='modal-header border-bottom-0 pb-0'>\r\n            <h1\r\n              className='modal-title fs-4 fw-bold text-primary'\r\n              id='staticBackdropLabel'>\r\n              Check Payment Status\r\n            </h1>\r\n            <button\r\n              type='button'\r\n              className='btn-close'\r\n              data-bs-dismiss='modal'\r\n              aria-label='Close'></button>\r\n          </div>\r\n          <div className='modal-body pt-4'>\r\n            <form onSubmit={handleSubmit}>\r\n              <div className='form-floating mb-4'>\r\n                <input\r\n                  type='email'\r\n                  className='form-control form-control-lg'\r\n                  id='email'\r\n                  placeholder='Enter Email'\r\n                  required\r\n                  value={email}\r\n                  onChange={(e) => setEmail(e.target.value)}\r\n                />\r\n                <label htmlFor='email' className='text-muted'>\r\n                  Email Address\r\n                </label>\r\n              </div>\r\n\r\n              {message && (\r\n                <div\r\n                  className={`alert ${\r\n                    status ? \"alert-success\" : \"alert-danger\"\r\n                  } mb-4`}\r\n                  role='alert'>\r\n                  <i\r\n                    className={`bi ${\r\n                      status ? \"bi-check-circle\" : \"bi-exclamation-circle\"\r\n                    } me-2`}></i>\r\n                  {message}\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                type='submit'\r\n                className='btn btn-primary btn-lg w-100 py-3'\r\n                disabled={isLoading}>\r\n                {isLoading ? (\r\n                  <>\r\n                    <span\r\n                      className='spinner-border spinner-border-sm me-2'\r\n                      role='status'\r\n                      aria-hidden='true'></span>\r\n                    Checking...\r\n                  </>\r\n                ) : (\r\n                  \"Check Payment\"\r\n                )}\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Check;\r\n","import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Navbar from \"../../components/Navbar/Navbar\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport SEO from \"../../components/SEO/SEO\";\r\nimport {\r\n  useGetProductByIdQuery,\r\n  useGetProductReviewsQuery,\r\n} from \"../../controller/api/admin/ApiProduct\";\r\nimport Form from \"./Form\";\r\nimport FormReview from \"./FormReview\";\r\nimport Reviews from \"./Reviews\";\r\nimport Check from \"./Check\";\r\n\r\nconst createMarkup = (html) => {\r\n  return { __html: html };\r\n};\r\n\r\nconst Detail = () => {\r\n  const { id } = useParams();\r\n  const { data: product, isLoading, error } = useGetProductByIdQuery(id);\r\n  const [reviewPage, setReviewPage] = React.useState(1);\r\n  const reviewLimit = 10;\r\n  const {\r\n    data: reviewData,\r\n    isLoading: isReviewLoading,\r\n    error: reviewError,\r\n  } = useGetProductReviewsQuery({\r\n    productId: id,\r\n    page: reviewPage,\r\n    limit: reviewLimit,\r\n  });\r\n\r\n  const seoData = product\r\n    ? {\r\n        title: product.name,\r\n        description: product.description?.replace(/<[^>]*>/g, \"\").slice(0, 160),\r\n        keywords: `${\r\n          product.name\r\n        }, web development, online course, ${product.features?.join(\", \")}`,\r\n        ogTitle: product.name,\r\n        ogDescription: product.description\r\n          ?.replace(/<[^>]*>/g, \"\")\r\n          .slice(0, 160),\r\n        ogImage: product.image,\r\n        structuredData: {\r\n          \"@context\": \"https://schema.org\",\r\n          \"@type\": \"Product\",\r\n          name: product.name,\r\n          description: product.description?.replace(/<[^>]*>/g, \"\"),\r\n          image: product.image,\r\n          offers: {\r\n            \"@type\": \"Offer\",\r\n            price: product.price,\r\n            priceCurrency: \"IDR\",\r\n            availability: \"https://schema.org/InStock\",\r\n            url: window.location.href,\r\n          },\r\n          aggregateRating: {\r\n            \"@type\": \"AggregateRating\",\r\n            ratingValue: product.rating || \"0\",\r\n            reviewCount: product.reviewcount || \"0\",\r\n          },\r\n          review: reviewData?.reviews?.map((review) => ({\r\n            \"@type\": \"Review\",\r\n            reviewRating: {\r\n              \"@type\": \"Rating\",\r\n              ratingValue: review.rating,\r\n            },\r\n            author: {\r\n              \"@type\": \"Person\",\r\n              name: review.name,\r\n            },\r\n            reviewBody: review.comment,\r\n          })),\r\n        },\r\n      }\r\n    : {\r\n        title: \"Loading Product - ALMADEV\",\r\n        description: \"Loading product details...\",\r\n      };\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(\r\n        <i key={`full-${i}`} className='bi bi-star-fill text-warning'></i>\r\n      );\r\n    }\r\n    if (hasHalfStar) {\r\n      stars.push(<i key='half' className='bi bi-star-half text-warning'></i>);\r\n    }\r\n    const emptyStars = 5 - Math.ceil(rating);\r\n    for (let i = 0; i < emptyStars; i++) {\r\n      stars.push(\r\n        <i key={`empty-${i}`} className='bi bi-star text-warning'></i>\r\n      );\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  const start = 240;\r\n\r\n  const renderRatingBar = (stars, count, totalReviews) => {\r\n    const percentage = totalReviews > 0 ? (count / totalReviews) * 100 : 0;\r\n    return (\r\n      <div className='d-flex align-items-center mb-2'>\r\n        <div className='me-2' style={{ width: \"60px\" }}>\r\n          {stars} stars\r\n        </div>\r\n        <div className='progress flex-grow-1' style={{ height: \"8px\" }}>\r\n          <div\r\n            className='progress-bar bg-warning'\r\n            role='progressbar'\r\n            style={{ width: `${percentage}%` }}\r\n            aria-valuenow={percentage}\r\n            aria-valuemin='0'\r\n            aria-valuemax='100'></div>\r\n        </div>\r\n        <div className='ms-2' style={{ width: \"40px\" }}>\r\n          {count}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className='bg-light'>\r\n      <SEO {...seoData} />\r\n      <Navbar />\r\n      <main className='container py-4' style={{ marginTop: 80 }}>\r\n        <div className='row'>\r\n          {/* Product Image - Always First on Mobile */}\r\n          <div className='col-12 d-md-none mb-4'>\r\n            <img\r\n              src={product?.image}\r\n              alt={product?.name}\r\n              className='img-fluid rounded border border-2'\r\n              style={{ width: \"100%\", height: \"auto\" }}\r\n            />\r\n          </div>\r\n\r\n          {/* Left Column: Image (Desktop) + Customer Reviews */}\r\n          <div className='col-md-6 mb-4 order-md-1 order-3'>\r\n            {/* Product Image - Desktop Only */}\r\n            <div className='d-none d-md-block'>\r\n              <img\r\n                src={product?.image}\r\n                alt={product?.name}\r\n                className='img-fluid rounded border border-2 mb-4'\r\n                style={{ width: \"100%\", height: \"auto\" }}\r\n              />\r\n            </div>\r\n\r\n            {/* Customer Reviews Summary */}\r\n            <div className='mb-4'>\r\n              <h4 className='mb-3'>Customer Reviews</h4>\r\n              <div className='card mb-4'>\r\n                <div className='card-body'>\r\n                  <div className='row align-items-center'>\r\n                    <div className='col-md-4 text-center'>\r\n                      <h2 className='display-4 mb-0'>\r\n                        {Number(product?.rating).toFixed(1)}\r\n                      </h2>\r\n                      <div className='mb-2'>{renderStars(product?.rating)}</div>\r\n                      <p className='text-muted mb-0'>\r\n                        {product?.reviewcount} reviews\r\n                      </p>\r\n                    </div>\r\n                    <div className='col-md-8'>\r\n                      <div className='rating-breakdown'>\r\n                        {renderRatingBar(\r\n                          5,\r\n                          product?.ratingBreakdown[5],\r\n                          product?.reviewCount || product?.reviewcount || 0\r\n                        )}\r\n                        {renderRatingBar(\r\n                          4,\r\n                          product?.ratingBreakdown[4],\r\n                          product?.reviewCount || product?.reviewcount || 0\r\n                        )}\r\n                        {renderRatingBar(\r\n                          3,\r\n                          product?.ratingBreakdown[3],\r\n                          product?.reviewCount || product?.reviewcount || 0\r\n                        )}\r\n                        {renderRatingBar(\r\n                          2,\r\n                          product?.ratingBreakdown[2],\r\n                          product?.reviewCount || product?.reviewcount || 0\r\n                        )}\r\n                        {renderRatingBar(\r\n                          1,\r\n                          product?.ratingBreakdown[1],\r\n                          product?.reviewCount || product?.reviewcount || 0\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Reviews with Pagination */}\r\n              <Reviews\r\n                isReviewLoading={isReviewLoading}\r\n                reviewData={reviewData}\r\n                reviewPage={reviewPage}\r\n                setReviewPage={setReviewPage}\r\n                reviewLimit={reviewLimit}\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Right Column: Info, Features, Buy, Write Review */}\r\n          <div className='col-md-6 bg-white p-4 rounded-3 border border-2 order-md-2 order-2'>\r\n            <h1 className='mb-3'>{product?.name}</h1>\r\n            <h2 className='text-primary mb-4'>\r\n              Rp {parseFloat(product?.price).toLocaleString(\"id-ID\")}\r\n            </h2>\r\n\r\n            <div className='d-flex align-items-center mb-3'>\r\n              <div className='me-2'>{renderStars(product?.rating)}</div>\r\n              <span className='me-2'>{Number(product?.rating).toFixed(1)}</span>\r\n              <span className='text-muted'>\r\n                ({product?.reviewcount} reviews)\r\n              </span>\r\n            </div>\r\n\r\n            <div className='text-success mb-4'>\r\n              <i className='bi bi-graph-up-arrow me-1'></i>\r\n              {(Number(product?.totalsales) + start).toLocaleString(\r\n                \"id-ID\"\r\n              )}{\" \"}\r\n              sold\r\n            </div>\r\n\r\n            <div\r\n              className='text-muted mb-4'\r\n              dangerouslySetInnerHTML={createMarkup(product?.description)}\r\n            />\r\n\r\n            <div className='mb-4'>\r\n              <h4>Key Features</h4>\r\n              <ul className='list-unstyled'>\r\n                {product?.features?.map((feature, index) => (\r\n                  <li key={index} className='mb-2'>\r\n                    <i className='bi bi-check-circle-fill text-success me-2'></i>\r\n                    {feature}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n\r\n            <div className='d-grid gap-2 mb-4'>\r\n              <button\r\n                data-bs-toggle='modal'\r\n                data-bs-target='#order'\r\n                className='btn btn-success btn-lg'>\r\n                Buy Now\r\n              </button>\r\n\r\n              <button\r\n                className='btn btn-outline-warning btn-lg'\r\n                data-bs-toggle='modal'\r\n                data-bs-target='#checkPayment'>\r\n                Check Payment\r\n              </button>\r\n            </div>\r\n\r\n            <FormReview />\r\n          </div>\r\n        </div>\r\n      </main>\r\n      <Form product={product} />\r\n      <Check />\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Detail;\r\n"],"names":["Form","product","formData","setFormData","useState","name","email","phone","createOrder","isLoading","data","isSuccess","error","isError","reset","useCreateOrderMutation","handleClose","useEffect","window","fbq","value","price","currency","content_name","content_ids","id","content_type","num_items","document","querySelector","click","location","href","redirect_url","console","log","jsxRuntimeExports","jsx","className","tabIndex","children","jsxs","type","onClick","placeholder","onChange","e","target","htmlFor","disabled","toast","productid","quantity","url","promise","unwrap","loading","success","_a","message","FormReview","useParams","productId","rating","reviewComment","errors","setErrors","addReview","useAddReviewMutation","handleChange","onSubmit","async","preventDefault","newErrors","trim","test","Object","keys","length","validateForm","c","then","res","map","star","style","cursor","handleRatingClick","rows","Reviews","isReviewLoading","reviewData","reviewPage","setReviewPage","reviewLimit","renderStars","stars","fullStars","Math","floor","hasHalfStar","i","push","emptyStars","ceil","role","reviews","Fragment","review","comment","totalPages","total","start","max","end","min","pages","pageNum","Check","setEmail","setMessage","status","setStatus","checkPayment","msg","useCheckPaymentMutation","required","Detail","useGetProductByIdQuery","React","reviewError","useGetProductReviewsQuery","page","limit","seoData","title","description","replace","slice","keywords","_b","features","join","ogTitle","ogDescription","_c","ogImage","image","structuredData","_d","offers","priceCurrency","availability","aggregateRating","ratingValue","reviewCount","reviewcount","_e","reviewRating","author","reviewBody","renderRatingBar","count","totalReviews","percentage","width","height","SEO","Navbar","marginTop","src","alt","Number","toFixed","ratingBreakdown","parseFloat","toLocaleString","totalsales","dangerouslySetInnerHTML","html","__html","_f","feature","index","Footer"],"mappings":"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"}