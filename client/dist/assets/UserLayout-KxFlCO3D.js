import{s as e,H as t,t as a,j as s,S as i,C as n}from"./index-CZtzjuKv.js";import{h as r,u as l,b as o,L as d,R as c}from"./vendor-CCW8Is9m.js";const m=[{path:"/user-dashboard",icon:"bi-speedometer2",label:"Dashboard"},{path:"/user-payment",icon:"bi-credit-card",label:"Payments"},{path:"/user-learning",icon:"bi-mortarboard",label:"My Learnings"},{path:"/user-product",icon:"bi-box",label:"My Products"},{path:"/referal-program",icon:"bi-share",label:"Referal Program"}],h=[{path:"/user-profile",icon:"bi-person",label:"Profile"},{path:"/user-settings",icon:"bi-gear",label:"Settings",divider:!0}],b=({children:b,title:g})=>{const p=r(),u=l(),x=e(),{user:j,isSignin:w}=t((e=>e.auth)),[f]=a(),[N,y]=o.useState((()=>{const e=localStorage.getItem("sidebarState");return!e||JSON.parse(e)})),[v,k]=o.useState((()=>{const e=localStorage.getItem("sidebarIconOnly");return!!e&&JSON.parse(e)})),[S,$]=o.useState((()=>"dark"===localStorage.getItem("theme")));o.useEffect((()=>{localStorage.setItem("theme",S?"dark":"light"),localStorage.setItem("sidebarState",JSON.stringify(N)),localStorage.setItem("sidebarIconOnly",JSON.stringify(v)),document.body.setAttribute("data-theme",S?"dark":"light"),document.body.classList.add("theme-transition")}),[S,N,v]);const C=async()=>{try{await f().unwrap(),x(n()),u("/signin")}catch(e){console.error("Logout failed:",e)}};return o.useEffect((()=>{const e=setTimeout((()=>{w||u("/signin")}),1e3);return()=>clearTimeout(e)}),[w]),s.jsxs(s.Fragment,{children:[s.jsx(i,{title:g}),s.jsxs("div",{className:"wrapper "+(S?"dark-mode":"light-mode"),children:[s.jsx("div",{className:"sidebar-overlay "+(N?"active":""),onClick:()=>{window.innerWidth<992&&y(!1)}}),s.jsxs("nav",{className:`sidebar ${window.innerWidth>=992?v?"icon-only":"":N?"show":""} ${S?"bg-dark":"bg-white border-end"}`,style:{transition:"all 0.3s ease"},children:[s.jsx("div",{className:"sidebar-header "+(S?"border-bottom border-dark":"border-bottom"),children:s.jsxs("div",{className:"brand-container",children:[s.jsx("img",{src:"/logo.png",alt:"ALMADEV",width:32,height:32,className:"brand-logo",style:{transition:"transform 0.3s ease"}}),s.jsx("h3",{className:(S?"text-white":"text-dark")+" mb-0",children:"ALMADEV"})]})}),s.jsx("div",{className:"list-group list-group-flush",children:m.map((e=>s.jsxs(d,{to:e.path,className:`list-group-item list-group-item-action ${S?"bg-dark text-white":"bg-white text-dark"} ${p.pathname===e.path?"active":""}`,title:v?e.label:"",style:{transition:"all 0.2s ease",position:"relative",overflow:"hidden"},children:[s.jsx("i",{className:`bi ${e.icon} me-2`}),!v&&s.jsx("span",{children:e.label}),p.pathname===e.path&&s.jsx("span",{className:"active-indicator",style:{position:"absolute",left:0,top:0,bottom:0,width:"3px",backgroundColor:"#0d6efd",transition:"transform 0.3s ease"}})]},e.path)))})]}),s.jsxs("div",{className:`main-content ${window.innerWidth>=992&&v?"sidebar-icon-only":""} ${S?"bg-dark":"bg-light"}`,style:{transition:"margin-left 0.3s ease"},children:[s.jsx("nav",{className:`navbar navbar-expand-lg ${S?"navbar-dark bg-dark border-bottom border-secondary":"navbar-light bg-white"} shadow-sm`,style:{transition:"all 0.3s ease"},children:s.jsxs("div",{className:"container-fluid",children:[s.jsx("button",{className:`btn ${S?"btn-outline-light":"btn-outline-dark"} d-flex align-items-center justify-content-center`,onClick:()=>{window.innerWidth>=992?k(!v):y(!N)},title:N?"Hide Sidebar":"Show Sidebar",style:{width:"38px",height:"38px",transition:"all 0.2s ease",padding:0},children:s.jsx("i",{className:"bi bi-list"})}),s.jsx("span",{className:"navbar-brand ms-2 fw-semibold",children:g}),s.jsxs("div",{className:"ms-auto d-flex gap-3 align-items-center",children:[s.jsxs("div",{className:"dropdown",children:[s.jsx("button",{className:`btn rounded-circle btn-outline-${S?"light":"dark"} dropdown-toggle d-flex align-items-center justify-content-center`,type:"button",id:"userDropdown","data-bs-toggle":"dropdown",title:"User Menu",style:{width:"38px",height:"38px",transition:"all 0.2s ease",padding:0},children:(null==j?void 0:j.name)?s.jsx("span",{className:"fs-6 fw-medium",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:S?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",borderRadius:"50%",transition:"background-color 0.3s ease"},children:j.name.split(" ").slice(0,2).map((e=>e.charAt(0))).join("").toUpperCase()}):s.jsx("i",{className:"bi bi-person-circle"})}),s.jsx("ul",{className:"dropdown-menu dropdown-menu-end "+(S?"dropdown-menu-dark":""),children:h.map((e=>s.jsxs(c.Fragment,{children:[s.jsx("li",{children:s.jsxs(d,{className:"dropdown-item d-flex align-items-center",to:e.path,style:{transition:"background-color 0.2s ease"},children:[s.jsx("i",{className:`bi ${e.icon} me-2`}),e.label]})}),e.divider&&s.jsxs("li",{children:[s.jsx("hr",{className:"dropdown-divider"}),s.jsxs("button",{className:"dropdown-item d-flex align-items-center text-danger",onClick:C,style:{transition:"background-color 0.2s ease"},children:[s.jsx("i",{className:"bi bi-box-arrow-right me-2"}),"Logout"]})]})]},e.path)))})]}),s.jsx("button",{className:`rounded-circle btn ${S?"btn-outline-light":"btn-outline-dark"} d-flex align-items-center justify-content-center`,onClick:()=>{$(!S)},title:S?"Switch to Light Mode":"Switch to Dark Mode",style:{width:"38px",height:"38px",transition:"all 0.2s ease",padding:0},children:s.jsx("i",{className:"bi "+(S?"bi-sun":"bi-moon")})})]})]})}),s.jsx("div",{className:"container-fluid p-4 "+(S?"text-white":"text-dark"),children:b})]})]})]})};export{b as U};
//# sourceMappingURL=UserLayout-KxFlCO3D.js.map
