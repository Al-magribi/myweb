import{l as e,m as t,j as n,n as r,o as i,e as o,p as a}from"./index-BWr3B_Ui.js";import{b as s,R as l,i as c,c as d}from"./vendor-BPoNO7EH.js";import{L as u}from"./Layout-D8rZiuYi.js";const h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function f(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function v(e){return"nodeType"in e}function g(e){var t,n;return e?f(e)?e:v(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function p(e){const{Document:t}=g(e);return e instanceof t}function m(e){return!f(e)&&e instanceof g(e).HTMLElement}function b(e){return e instanceof g(e).SVGElement}function x(e){return e?f(e)?e.document:v(e)?p(e)?e:m(e)||b(e)?e.ownerDocument:document:document:document}const y=h?s.useLayoutEffect:s.useEffect;function w(e){const t=s.useRef(e);return y((()=>{t.current=e})),s.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function N(e,t){void 0===t&&(t=[e]);const n=s.useRef(e);return y((()=>{n.current!==e&&(n.current=e)}),t),n}function j(e,t){const n=s.useRef();return s.useMemo((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function C(e){const t=w(e),n=s.useRef(null),r=s.useCallback((e=>{e!==n.current&&(null==t||t(e,n.current)),n.current=e}),[]);return[n,r]}function D(e){const t=s.useRef();return s.useEffect((()=>{t.current=e}),[e]),t.current}let S={};function E(e,t){return s.useMemo((()=>{if(t)return t;const n=null==S[e]?0:S[e]+1;return S[e]=n,e+"-"+n}),[e,t])}function R(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[i,o]of r){const n=t[i];null!=n&&(t[i]=n+e*o)}return t}),{...t})}}const M=R(1),k=R(-1);function I(e){if(!e)return!1;const{KeyboardEvent:t}=g(e.target);return t&&e instanceof t}function L(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=g(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const T=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[T.Translate.toString(e),T.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),A="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function O(e){return e.matches(A)?e:e.querySelector(A)}const B={display:"none"};function F(e){let{id:t,value:n}=e;return l.createElement("div",{id:t,style:B},n)}function P(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;return l.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":r,"aria-atomic":!0},n)}const z=s.createContext(null);const _={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},U={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Y(e){let{announcements:t=U,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=_}=e;const{announce:o,announcement:a}=function(){const[e,t]=s.useState("");return{announce:s.useCallback((e=>{null!=e&&t(e)}),[]),announcement:e}}(),d=E("DndLiveRegion"),[u,h]=s.useState(!1);if(s.useEffect((()=>{h(!0)}),[]),function(e){const t=s.useContext(z);s.useEffect((()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)}),[e,t])}(s.useMemo((()=>({onDragStart(e){let{active:n}=e;o(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&o(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;o(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;o(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;o(t.onDragCancel({active:n,over:r}))}})),[o,t])),!u)return null;const f=l.createElement(l.Fragment,null,l.createElement(F,{id:r,value:i.draggable}),l.createElement(P,{id:d,announcement:a}));return n?c.createPortal(f,n):f}var q,X;function K(){}function W(e,t){return s.useMemo((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.useMemo((()=>[...t].filter((e=>null!=e))),[...t])}(X=q||(q={})).DragStart="dragStart",X.DragMove="dragMove",X.DragEnd="dragEnd",X.DragCancel="dragCancel",X.DragOver="dragOver",X.RegisterDroppable="registerDroppable",X.SetDroppableDisabled="setDroppableDisabled",X.UnregisterDroppable="unregisterDroppable";const V=Object.freeze({x:0,y:0});function J(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function G(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Q(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function Z(e,t){if(!e||0===e.length)return null;const[n]=e;return n[t]}function ee(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const te=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=ee(t,t.left,t.top),o=[];for(const a of r){const{id:e}=a,t=n.get(e);if(t){const n=J(ee(t),i);o.push({id:e,data:{droppableContainer:a,value:n}})}}return o.sort($)};function ne(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),a=i-r,s=o-n;if(r<i&&n<o){const n=t.width*t.height,r=e.width*e.height,i=a*s;return Number((i/(n+r-i)).toFixed(4))}return 0}const re=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const o of r){const{id:e}=o,r=n.get(e);if(r){const n=ne(r,t);n>0&&i.push({id:e,data:{droppableContainer:o,value:n}})}}return i.sort(G)};function ie(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:V}function oe(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x})),{...t})}}const ae=oe(1);const se={ignoreTransform:!1};function le(e,t){void 0===t&&(t=se);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=g(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:i,scaleY:o,x:a,y:s}=r,l=e.left-a-(1-i)*parseFloat(n),c=e.top-s-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=i?e.width/i:e.width,u=o?e.height/o:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:i,width:o,height:a,bottom:s,right:l}=n;return{top:r,left:i,width:o,height:a,bottom:s,right:l}}function ce(e){return le(e,{ignoreTransform:!0})}function de(e,t){const n=[];return e?function r(i){if(null!=t&&n.length>=t)return n;if(!i)return n;if(p(i)&&null!=i.scrollingElement&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!m(i)||b(i))return n;if(n.includes(i))return n;const o=g(e).getComputedStyle(i);return i!==e&&function(e,t){void 0===t&&(t=g(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some((e=>{const r=t[e];return"string"==typeof r&&n.test(r)}))}(i,o)&&n.push(i),function(e,t){return void 0===t&&(t=g(e).getComputedStyle(e)),"fixed"===t.position}(i,o)?n:r(i.parentNode)}(e):n}function ue(e){const[t]=de(e,1);return null!=t?t:null}function he(e){return h&&e?f(e)?e:v(e)?p(e)||e===x(e).scrollingElement?window:m(e)?e:null:null:null}function fe(e){return f(e)?e.scrollX:e.scrollLeft}function ve(e){return f(e)?e.scrollY:e.scrollTop}function ge(e){return{x:fe(e),y:ve(e)}}var pe,me;function be(e){return!(!h||!e)&&e===document.scrollingElement}function xe(e){const t={x:0,y:0},n=be(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}(me=pe||(pe={}))[me.Forward=1]="Forward",me[me.Backward=-1]="Backward";const ye={x:.2,y:.2};function we(e,t,n,r,i){let{top:o,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===i&&(i=ye);const{isTop:c,isBottom:d,isLeft:u,isRight:h}=xe(e),f={x:0,y:0},v={x:0,y:0},g=t.height*i.y,p=t.width*i.x;return!c&&o<=t.top+g?(f.y=pe.Backward,v.y=r*Math.abs((t.top+g-o)/g)):!d&&l>=t.bottom-g&&(f.y=pe.Forward,v.y=r*Math.abs((t.bottom-g-l)/g)),!h&&s>=t.right-p?(f.x=pe.Forward,v.x=r*Math.abs((t.right-p-s)/p)):!u&&a<=t.left+p&&(f.x=pe.Backward,v.x=r*Math.abs((t.left+p-a)/p)),{direction:f,speed:v}}function Ne(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function je(e){return e.reduce(((e,t)=>M(e,ge(t))),V)}const Ce=[["x",["left","right"],function(e){return e.reduce(((e,t)=>e+fe(t)),0)}],["y",["top","bottom"],function(e){return e.reduce(((e,t)=>e+ve(t)),0)}]];class De{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=de(t),r=je(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[i,o,a]of Ce)for(const e of o)Object.defineProperty(this,e,{get:()=>{const t=a(n),o=r[i]-t;return this.rect[e]+o},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Se{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Ee(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var Re,Me,ke,Ie;function Le(e){e.preventDefault()}function Te(e){e.stopPropagation()}(Me=Re||(Re={})).Click="click",Me.DragStart="dragstart",Me.Keydown="keydown",Me.ContextMenu="contextmenu",Me.Resize="resize",Me.SelectionChange="selectionchange",Me.VisibilityChange="visibilitychange",(Ie=ke||(ke={})).Space="Space",Ie.Down="ArrowDown",Ie.Right="ArrowRight",Ie.Left="ArrowLeft",Ie.Up="ArrowUp",Ie.Esc="Escape",Ie.Enter="Enter",Ie.Tab="Tab";const Ae={start:[ke.Space,ke.Enter],cancel:[ke.Esc],end:[ke.Space,ke.Enter,ke.Tab]},Oe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case ke.Right:return{...n,x:n.x+25};case ke.Left:return{...n,x:n.x-25};case ke.Down:return{...n,y:n.y+25};case ke.Up:return{...n,y:n.y-25}}};class Be{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Se(x(t)),this.windowListeners=new Se(g(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Re.Resize,this.handleCancel),this.windowListeners.add(Re.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(Re.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=le),!e)return;const{top:n,left:r,bottom:i,right:o}=t(e);ue(e)&&(i<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(V)}handleKeyDown(e){if(I(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:i=Ae,coordinateGetter:o=Oe,scrollBehavior:a="smooth"}=r,{code:s}=e;if(i.end.includes(s))return void this.handleEnd(e);if(i.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:V;this.referenceCoordinates||(this.referenceCoordinates=c);const d=o(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=k(d,c),r={x:0,y:0},{scrollableAncestors:i}=n.current;for(const n of i){const i=e.code,{isTop:o,isRight:s,isLeft:l,isBottom:c,maxScroll:u,minScroll:h}=xe(n),f=Ne(n),v={x:Math.min(i===ke.Right?f.right-f.width/2:f.right,Math.max(i===ke.Right?f.left:f.left+f.width/2,d.x)),y:Math.min(i===ke.Down?f.bottom-f.height/2:f.bottom,Math.max(i===ke.Down?f.top:f.top+f.height/2,d.y))},g=i===ke.Right&&!s||i===ke.Left&&!l,p=i===ke.Down&&!c||i===ke.Up&&!o;if(g&&v.x!==d.x){const e=n.scrollLeft+t.x,o=i===ke.Right&&e<=u.x||i===ke.Left&&e>=h.x;if(o&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=o?n.scrollLeft-e:i===ke.Right?n.scrollLeft-u.x:n.scrollLeft-h.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(p&&v.y!==d.y){const e=n.scrollTop+t.y,o=i===ke.Down&&e<=u.y||i===ke.Up&&e>=h.y;if(o&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=o?n.scrollTop-e:i===ke.Down?n.scrollTop-u.y:n.scrollTop-h.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,M(k(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Fe(e){return Boolean(e&&"distance"in e)}function Pe(e){return Boolean(e&&"delay"in e)}Be.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Ae,onActivation:i}=t,{active:o}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=o.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==i||i({event:e.nativeEvent}),!0)}return!1}}];class ze{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=g(e);return e instanceof t?e:x(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:i}=e,{target:o}=i;this.props=e,this.events=t,this.document=x(o),this.documentListeners=new Se(this.document),this.listeners=new Se(n),this.windowListeners=new Se(g(o)),this.initialCoordinates=null!=(r=L(i))?r:V,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Re.Resize,this.handleCancel),this.windowListeners.add(Re.DragStart,Le),this.windowListeners.add(Re.VisibilityChange,this.handleCancel),this.windowListeners.add(Re.ContextMenu,Le),this.documentListeners.add(Re.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Pe(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Fe(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Re.Click,Te,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Re.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:i}=this,{onMove:o,options:{activationConstraint:a}}=i;if(!r)return;const s=null!=(t=L(e))?t:V,l=k(r,s);if(!n&&a){if(Fe(a)){if(null!=a.tolerance&&Ee(l,a.tolerance))return this.handleCancel();if(Ee(l,a.distance))return this.handleStart()}return Pe(a)&&Ee(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),o(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===ke.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const _e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Ue extends ze{constructor(e){const{event:t}=e,n=x(t.target);super(e,_e,n)}}Ue.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Ye={move:{name:"mousemove"},end:{name:"mouseup"}};var qe,Xe;(Xe=qe||(qe={}))[Xe.RightClick=2]="RightClick";(class extends ze{constructor(e){super(e,Ye,x(e.event.target))}}).activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==qe.RightClick&&(null==r||r({event:n}),!0)}}];const Ke={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var We,He,Ve,Je;function $e(e){let{acceleration:t,activator:n=We.Pointer,canScroll:r,draggingRect:i,enabled:o,interval:a=5,order:l=Ve.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:h,threshold:f}=e;const v=function(e){let{delta:t,disabled:n}=e;const r=D(t);return j((e=>{if(n||!r||!e)return Ge;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[pe.Backward]:e.x[pe.Backward]||-1===i.x,[pe.Forward]:e.x[pe.Forward]||1===i.x},y:{[pe.Backward]:e.y[pe.Backward]||-1===i.y,[pe.Forward]:e.y[pe.Forward]||1===i.y}}}),[n,t,r])}({delta:h,disabled:!o}),[g,p]=function(){const e=s.useRef(null);return[s.useCallback(((t,n)=>{e.current=setInterval(t,n)}),[]),s.useCallback((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}(),m=s.useRef({x:0,y:0}),b=s.useRef({x:0,y:0}),x=s.useMemo((()=>{switch(n){case We.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case We.DraggableRect:return i}}),[n,i,c]),y=s.useRef(null),w=s.useCallback((()=>{const e=y.current;if(!e)return;const t=m.current.x*b.current.x,n=m.current.y*b.current.y;e.scrollBy(t,n)}),[]),N=s.useMemo((()=>l===Ve.TreeOrder?[...d].reverse():d),[l,d]);s.useEffect((()=>{if(o&&d.length&&x){for(const e of N){if(!1===(null==r?void 0:r(e)))continue;const n=d.indexOf(e),i=u[n];if(!i)continue;const{direction:o,speed:s}=we(e,i,x,t,f);for(const e of["x","y"])v[e][o[e]]||(s[e]=0,o[e]=0);if(s.x>0||s.y>0)return p(),y.current=e,g(w,a),m.current=s,void(b.current=o)}m.current={x:0,y:0},b.current={x:0,y:0},p()}else p()}),[t,w,r,p,o,a,JSON.stringify(x),JSON.stringify(v),g,d,N,u,JSON.stringify(f)])}(class extends ze{constructor(e){super(e,Ke)}static setup(){return window.addEventListener(Ke.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ke.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return!(i.length>1)&&(null==r||r({event:n}),!0)}}],(He=We||(We={}))[He.Pointer=0]="Pointer",He[He.DraggableRect=1]="DraggableRect",(Je=Ve||(Ve={}))[Je.TreeOrder=0]="TreeOrder",Je[Je.ReversedTreeOrder=1]="ReversedTreeOrder";const Ge={x:{[pe.Backward]:!1,[pe.Forward]:!1},y:{[pe.Backward]:!1,[pe.Forward]:!1}};var Qe,Ze,et;(Ze=Qe||(Qe={}))[Ze.Always=0]="Always",Ze[Ze.BeforeDragging=1]="BeforeDragging",Ze[Ze.WhileDragging=2]="WhileDragging",(et||(et={})).Optimized="optimized";const tt=new Map;function nt(e,t){return j((n=>e?n||("function"==typeof t?t(e):e):null),[t,e])}function rt(e){let{callback:t,disabled:n}=e;const r=w(t),i=s.useMemo((()=>{if(n||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(r)}),[n]);return s.useEffect((()=>()=>null==i?void 0:i.disconnect()),[i]),i}function it(e){return new De(le(e),e)}function ot(e,t,n){void 0===t&&(t=it);const[r,i]=s.useState(null);function o(){i((r=>{if(!e)return null;var i;if(!1===e.isConnected)return null!=(i=null!=r?r:n)?i:null;const o=t(e);return JSON.stringify(r)===JSON.stringify(o)?r:o}))}const a=function(e){let{callback:t,disabled:n}=e;const r=w(t),i=s.useMemo((()=>{if(n||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(r)}),[r,n]);return s.useEffect((()=>()=>null==i?void 0:i.disconnect()),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){o();break}}}}),l=rt({callback:o});return y((()=>{o(),e?(null==l||l.observe(e),null==a||a.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==a||a.disconnect())}),[e]),r}const at=[];function st(e,t){void 0===t&&(t=[]);const n=s.useRef(null);return s.useEffect((()=>{n.current=null}),t),s.useEffect((()=>{const t=e!==V;t&&!n.current&&(n.current=e),!t&&n.current&&(n.current=null)}),[e]),n.current?k(e,n.current):V}function lt(e){return s.useMemo((()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null),[e])}const ct=[];function dt(e){let{measure:t}=e;const[n,r]=s.useState(null),i=rt({callback:s.useCallback((e=>{for(const{target:n}of e)if(m(n)){r((e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r}));break}}),[t])}),o=s.useCallback((e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return m(t)?t:e}(e);null==i||i.disconnect(),n&&(null==i||i.observe(n)),r(n?t(n):null)}),[t,i]),[a,l]=C(o);return s.useMemo((()=>({nodeRef:a,rect:n,setRef:l})),[n,a,l])}const ut=[{sensor:Ue,options:{}},{sensor:Be,options:{}}],ht={current:{}},ft={draggable:{measure:ce},droppable:{measure:ce,strategy:Qe.WhileDragging,frequency:et.Optimized},dragOverlay:{measure:le}};class vt extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const gt={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vt,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:K},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ft,measureDroppableContainers:K,windowRect:null,measuringScheduled:!1},pt={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:K,draggableNodes:new Map,over:null,measureDroppableContainers:K},mt=s.createContext(pt),bt=s.createContext(gt);function xt(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vt}}}function yt(e,t){switch(t.type){case q.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case q.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case q.DragEnd:case q.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case q.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new vt(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case q.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const a=new vt(e.droppable.containers);return a.set(n,{...o,disabled:i}),{...e,droppable:{...e.droppable,containers:a}}}case q.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const o=new vt(e.droppable.containers);return o.delete(n),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function wt(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=s.useContext(mt),o=D(r),a=D(null==n?void 0:n.id);return s.useEffect((()=>{if(!t&&!r&&o&&null!=a){if(!I(o))return;if(document.activeElement===o.target)return;const e=i.get(a);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame((()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=O(e);if(t){t.focus();break}}}))}}),[r,t,i,a,o]),null}const Nt=s.createContext({...V,scaleX:1,scaleY:1});var jt,Ct;(Ct=jt||(jt={}))[Ct.Uninitialized=0]="Uninitialized",Ct[Ct.Initializing=1]="Initializing",Ct[Ct.Initialized=2]="Initialized";const Dt=s.memo((function(e){var t,n,r,i;let{id:o,accessibility:a,autoScroll:d=!0,children:u,sensors:f=ut,collisionDetection:v=re,measuring:p,modifiers:m,...b}=e;const x=s.useReducer(yt,void 0,xt),[w,C]=x,[D,S]=function(){const[e]=s.useState((()=>new Set)),t=s.useCallback((t=>(e.add(t),()=>e.delete(t))),[e]);return[s.useCallback((t=>{let{type:n,event:r}=t;e.forEach((e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)}))}),[e]),t]}(),[R,k]=s.useState(jt.Uninitialized),I=R===jt.Initialized,{draggable:{active:T,nodes:A,translate:O},droppable:{containers:B}}=w,F=null!=T?A.get(T):null,P=s.useRef({initial:null,translated:null}),_=s.useMemo((()=>{var e;return null!=T?{id:T,data:null!=(e=null==F?void 0:F.data)?e:ht,rect:P}:null}),[T,F]),U=s.useRef(null),[X,K]=s.useState(null),[W,H]=s.useState(null),J=N(b,Object.values(b)),$=E("DndDescribedBy",o),G=s.useMemo((()=>B.getEnabled()),[B]),Q=(ee=p,s.useMemo((()=>({draggable:{...ft.draggable,...null==ee?void 0:ee.draggable},droppable:{...ft.droppable,...null==ee?void 0:ee.droppable},dragOverlay:{...ft.dragOverlay,...null==ee?void 0:ee.dragOverlay}})),[null==ee?void 0:ee.draggable,null==ee?void 0:ee.droppable,null==ee?void 0:ee.dragOverlay]));var ee;const{droppableRects:te,measureDroppableContainers:ne,measuringScheduled:oe}=function(e,t){let{dragging:n,dependencies:r,config:i}=t;const[o,a]=s.useState(null),{frequency:l,measure:c,strategy:d}=i,u=s.useRef(e),h=function(){switch(d){case Qe.Always:return!1;case Qe.BeforeDragging:return n;default:return!n}}(),f=N(h),v=s.useCallback((function(e){void 0===e&&(e=[]),f.current||a((t=>null===t?e:t.concat(e.filter((e=>!t.includes(e))))))}),[f]),g=s.useRef(null),p=j((t=>{if(h&&!n)return tt;if(!t||t===tt||u.current!==e||null!=o){const t=new Map;for(let n of e){if(!n)continue;if(o&&o.length>0&&!o.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new De(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t}),[e,o,n,h,c]);return s.useEffect((()=>{u.current=e}),[e]),s.useEffect((()=>{h||v()}),[n,h]),s.useEffect((()=>{o&&o.length>0&&a(null)}),[JSON.stringify(o)]),s.useEffect((()=>{h||"number"!=typeof l||null!==g.current||(g.current=setTimeout((()=>{v(),g.current=null}),l))}),[l,h,v,...r]),{droppableRects:p,measureDroppableContainers:v,measuringScheduled:null!=o}}(G,{dragging:I,dependencies:[O.x,O.y],config:Q.droppable}),se=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return j((e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(A,T),ce=s.useMemo((()=>W?L(W):null),[W]),fe=function(){const e=!1===(null==X?void 0:X.autoScrollEnabled),t="object"==typeof d?!1===d.enabled:!1===d,n=I&&!e&&!t;if("object"==typeof d)return{...d,enabled:n};return{enabled:n}}(),ve=function(e,t){return nt(e,t)}(se,Q.draggable.measure);!function(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const o=s.useRef(!1),{x:a,y:l}="boolean"==typeof i?{x:i,y:i}:i;y((()=>{if(!a&&!l||!t)return void(o.current=!1);if(o.current||!r)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const i=ie(n(e),r);if(a||(i.x=0),l||(i.y=0),o.current=!0,Math.abs(i.x)>0||Math.abs(i.y)>0){const t=ue(e);t&&t.scrollBy({top:i.y,left:i.x})}}),[t,a,l,r,n])}({activeNode:null!=T?A.get(T):null,config:fe.layoutShiftCompensation,initialRect:ve,measure:Q.draggable.measure});const pe=ot(se,Q.draggable.measure,ve),me=ot(se?se.parentElement:null),xe=s.useRef({activatorEvent:null,active:null,activeNode:se,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ye=B.getNodeFor(null==(t=xe.current.over)?void 0:t.id),we=dt({measure:Q.dragOverlay.measure}),Ne=null!=(n=we.nodeRef.current)?n:se,Ce=I?null!=(r=we.rect)?r:pe:null,Se=Boolean(we.nodeRef.current&&we.rect),Ee=ie(Re=Se?null:pe,nt(Re));var Re;const Me=lt(Ne?g(Ne):null),ke=function(e){const t=s.useRef(e),n=j((n=>e?n&&n!==at&&e&&t.current&&e.parentNode===t.current.parentNode?n:de(e):at),[e]);return s.useEffect((()=>{t.current=e}),[e]),n}(I?null!=ye?ye:se:null),Ie=function(e,t){void 0===t&&(t=le);const[n]=e,r=lt(n?g(n):null),[i,o]=s.useState(ct);function a(){o((()=>e.length?e.map((e=>be(e)?r:new De(t(e),e))):ct))}const l=rt({callback:a});return y((()=>{null==l||l.disconnect(),a(),e.forEach((e=>null==l?void 0:l.observe(e)))}),[e]),i}(ke),Le=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce(((e,t)=>t({transform:e,...r})),n):n}(m,{transform:{x:O.x-Ee.x,y:O.y-Ee.y,scaleX:1,scaleY:1},activatorEvent:W,active:_,activeNodeRect:pe,containerNodeRect:me,draggingNodeRect:Ce,over:xe.current.over,overlayNodeRect:we.rect,scrollableAncestors:ke,scrollableAncestorRects:Ie,windowRect:Me}),Te=ce?M(ce,O):null,Ae=function(e){const[t,n]=s.useState(null),r=s.useRef(e),i=s.useCallback((e=>{const t=he(e.target);t&&n((e=>e?(e.set(t,ge(t)),new Map(e)):null))}),[]);return s.useEffect((()=>{const t=r.current;if(e!==t){o(t);const a=e.map((e=>{const t=he(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,ge(t)]):null})).filter((e=>null!=e));n(a.length?new Map(a):null),r.current=e}return()=>{o(e),o(t)};function o(e){e.forEach((e=>{const t=he(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),s.useMemo((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>M(e,t)),V):je(e):V),[e,t])}(ke),Oe=st(Ae),Be=st(Ae,[pe]),Fe=M(Le,Oe),Pe=Ce?ae(Ce,Le):null,ze=_&&Pe?v({active:_,collisionRect:Pe,droppableRects:te,droppableContainers:G,pointerCoordinates:Te}):null,_e=Z(ze,"id"),[Ue,Ye]=s.useState(null),qe=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Se?Le:M(Le,Be),null!=(i=null==Ue?void 0:Ue.rect)?i:null,pe),Xe=s.useRef(null),Ke=s.useCallback(((e,t)=>{let{sensor:n,options:r}=t;if(null==U.current)return;const i=A.get(U.current);if(!i)return;const o=e.nativeEvent,a=new n({active:U.current,activeNode:i,event:o,options:r,context:xe,onAbort(e){if(!A.get(e))return;const{onDragAbort:t}=J.current,n={id:e};null==t||t(n),D({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!A.get(e))return;const{onDragPending:i}=J.current,o={id:e,constraint:t,initialCoordinates:n,offset:r};null==i||i(o),D({type:"onDragPending",event:o})},onStart(e){const t=U.current;if(null==t)return;const n=A.get(t);if(!n)return;const{onDragStart:r}=J.current,i={activatorEvent:o,active:{id:t,data:n.data,rect:P}};c.unstable_batchedUpdates((()=>{null==r||r(i),k(jt.Initializing),C({type:q.DragStart,initialCoordinates:e,active:t}),D({type:"onDragStart",event:i}),K(Xe.current),H(o)}))},onMove(e){C({type:q.DragMove,coordinates:e})},onEnd:s(q.DragEnd),onCancel:s(q.DragCancel)});function s(e){return async function(){const{active:t,collisions:n,over:r,scrollAdjustedTranslate:i}=xe.current;let a=null;if(t&&i){const{cancelDrop:s}=J.current;if(a={activatorEvent:o,active:t,collisions:n,delta:i,over:r},e===q.DragEnd&&"function"==typeof s){await Promise.resolve(s(a))&&(e=q.DragCancel)}}U.current=null,c.unstable_batchedUpdates((()=>{C({type:e}),k(jt.Uninitialized),Ye(null),K(null),H(null),Xe.current=null;const t=e===q.DragEnd?"onDragEnd":"onDragCancel";if(a){const e=J.current[t];null==e||e(a),D({type:t,event:a})}}))}}Xe.current=a}),[A]),We=function(e,t){return s.useMemo((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(f,s.useCallback(((e,t)=>(n,r)=>{const i=n.nativeEvent,o=A.get(r);if(null!==U.current||!o||i.dndKit||i.defaultPrevented)return;const a={active:o};!0===e(n,t.options,a)&&(i.dndKit={capturedBy:t.sensor},U.current=r,Ke(n,t))}),[A,Ke]));!function(e){s.useEffect((()=>{if(!h)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(f),y((()=>{pe&&R===jt.Initializing&&k(jt.Initialized)}),[pe,R]),s.useEffect((()=>{const{onDragMove:e}=J.current,{active:t,activatorEvent:n,collisions:r,over:i}=xe.current;if(!t||!n)return;const o={active:t,activatorEvent:n,collisions:r,delta:{x:Fe.x,y:Fe.y},over:i};c.unstable_batchedUpdates((()=>{null==e||e(o),D({type:"onDragMove",event:o})}))}),[Fe.x,Fe.y]),s.useEffect((()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:r,scrollAdjustedTranslate:i}=xe.current;if(!e||null==U.current||!t||!i)return;const{onDragOver:o}=J.current,a=r.get(_e),s=a&&a.rect.current?{id:a.id,rect:a.rect.current,data:a.data,disabled:a.disabled}:null,l={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:s};c.unstable_batchedUpdates((()=>{Ye(s),null==o||o(l),D({type:"onDragOver",event:l})}))}),[_e]),y((()=>{xe.current={activatorEvent:W,active:_,activeNode:se,collisionRect:Pe,collisions:ze,droppableRects:te,draggableNodes:A,draggingNode:Ne,draggingNodeRect:Ce,droppableContainers:B,over:Ue,scrollableAncestors:ke,scrollAdjustedTranslate:Fe},P.current={initial:Ce,translated:Pe}}),[_,se,ze,Pe,A,Ne,Ce,te,B,Ue,ke,Fe]),$e({...fe,delta:O,draggingRect:Pe,pointerCoordinates:Te,scrollableAncestors:ke,scrollableAncestorRects:Ie});const He=s.useMemo((()=>({active:_,activeNode:se,activeNodeRect:pe,activatorEvent:W,collisions:ze,containerNodeRect:me,dragOverlay:we,draggableNodes:A,droppableContainers:B,droppableRects:te,over:Ue,measureDroppableContainers:ne,scrollableAncestors:ke,scrollableAncestorRects:Ie,measuringConfiguration:Q,measuringScheduled:oe,windowRect:Me})),[_,se,pe,W,ze,me,we,A,B,te,Ue,ne,ke,Ie,Q,oe,Me]),Ve=s.useMemo((()=>({activatorEvent:W,activators:We,active:_,activeNodeRect:pe,ariaDescribedById:{draggable:$},dispatch:C,draggableNodes:A,over:Ue,measureDroppableContainers:ne})),[W,We,_,pe,C,$,A,Ue,ne]);return l.createElement(z.Provider,{value:S},l.createElement(mt.Provider,{value:Ve},l.createElement(bt.Provider,{value:He},l.createElement(Nt.Provider,{value:qe},u)),l.createElement(wt,{disabled:!1===(null==a?void 0:a.restoreFocus)})),l.createElement(Y,{...a,hiddenTextDescribedById:$}))})),St=s.createContext(null),Et="button";function Rt(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const o=E("Draggable"),{activators:a,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:h,over:f}=s.useContext(mt),{role:v=Et,roleDescription:g="draggable",tabIndex:p=0}=null!=i?i:{},m=(null==c?void 0:c.id)===t,b=s.useContext(m?Nt:St),[x,w]=C(),[j,D]=C(),S=function(e,t){return s.useMemo((()=>e.reduce(((e,n)=>{let{eventName:r,handler:i}=n;return e[r]=e=>{i(e,t)},e}),{})),[e,t])}(a,t),R=N(n);y((()=>(h.set(t,{id:t,key:o,node:x,activatorNode:j,data:R}),()=>{const e=h.get(t);e&&e.key===o&&h.delete(t)})),[h,t]);return{active:c,activatorEvent:l,activeNodeRect:d,attributes:s.useMemo((()=>({role:v,tabIndex:p,"aria-disabled":r,"aria-pressed":!(!m||v!==Et)||void 0,"aria-roledescription":g,"aria-describedby":u.draggable})),[r,v,p,m,g,u.draggable]),isDragging:m,listeners:r?void 0:S,node:x,over:f,setNodeRef:w,setActivatorNodeRef:D,transform:b}}const Mt={timeout:25};function kt(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function It(e,t){return e.reduce(((e,n,r)=>{const i=t.get(n);return i&&(e[r]=i),e}),Array(e.length))}function Lt(e){return null!==e&&e>=0}const Tt=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const o=kt(t,r,n),a=t[i],s=o[i];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},At={scaleX:1,scaleY:1},Ot=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:o,overIndex:a}=e;const s=null!=(t=o[n])?t:r;if(!s)return null;if(i===n){const e=o[a];return e?{x:0,y:n<a?e.top+e.height-(s.top+s.height):e.top-s.top,...At}:null}const l=function(e,t,n){const r=e[t],i=e[t-1],o=e[t+1];if(!r)return 0;if(n<t)return i?r.top-(i.top+i.height):o?o.top-(r.top+r.height):0;return o?o.top-(r.top+r.height):i?r.top-(i.top+i.height):0}(o,i,n);return i>n&&i<=a?{x:0,y:-s.height-l,...At}:i<n&&i>=a?{x:0,y:s.height+l,...At}:{x:0,y:0,...At}};const Bt="Sortable",Ft=l.createContext({activeIndex:-1,containerId:Bt,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Tt,disabled:{draggable:!1,droppable:!1}});function Pt(e){let{children:t,id:n,items:r,strategy:i=Tt,disabled:o=!1}=e;const{active:a,dragOverlay:c,droppableRects:d,over:u,measureDroppableContainers:h}=s.useContext(bt),f=E(Bt,n),v=Boolean(null!==c.rect),g=s.useMemo((()=>r.map((e=>"object"==typeof e&&"id"in e?e.id:e))),[r]),p=null!=a,m=a?g.indexOf(a.id):-1,b=u?g.indexOf(u.id):-1,x=s.useRef(g),w=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(g,x.current),N=-1!==b&&-1===m||w,j=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(o);y((()=>{w&&p&&h(g)}),[w,g,p,h]),s.useEffect((()=>{x.current=g}),[g]);const C=s.useMemo((()=>({activeIndex:m,containerId:f,disabled:j,disableTransforms:N,items:g,overIndex:b,useDragOverlay:v,sortedRects:It(g,d),strategy:i})),[m,f,j.draggable,j.droppable,N,g,b,d,v,i]);return l.createElement(Ft.Provider,{value:C},t)}const zt=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return kt(n,r,i).indexOf(t)},_t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:o,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r)&&((s===o||i!==a)&&(!!n||a!==i&&t===l))},Ut={duration:200,easing:"ease"},Yt="transform",qt=T.Transition.toString({property:Yt,duration:0,easing:"linear"}),Xt={roleDescription:"sortable"};function Kt(e){let{animateLayoutChanges:t=_t,attributes:n,disabled:r,data:i,getNewIndex:o=zt,id:a,strategy:l,resizeObserverConfig:c,transition:d=Ut}=e;const{items:u,containerId:h,activeIndex:f,disabled:v,disableTransforms:g,sortedRects:p,overIndex:m,useDragOverlay:b,strategy:x}=s.useContext(Ft),w=function(e,t){var n,r;if("boolean"==typeof e)return{draggable:e,droppable:!1};return{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(r,v),j=u.indexOf(a),D=s.useMemo((()=>({sortable:{containerId:h,index:j,items:u},...i})),[h,i,j,u]),S=s.useMemo((()=>u.slice(u.indexOf(a))),[u,a]),{rect:R,node:M,isOver:k,setNodeRef:L}=function(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const o=E("Droppable"),{active:a,dispatch:l,over:c,measureDroppableContainers:d}=s.useContext(mt),u=s.useRef({disabled:n}),h=s.useRef(!1),f=s.useRef(null),v=s.useRef(null),{disabled:g,updateMeasurementsFor:p,timeout:m}={...Mt,...i},b=N(null!=p?p:r),x=rt({callback:s.useCallback((()=>{h.current?(null!=v.current&&clearTimeout(v.current),v.current=setTimeout((()=>{d(Array.isArray(b.current)?b.current:[b.current]),v.current=null}),m)):h.current=!0}),[m]),disabled:g||!a}),y=s.useCallback(((e,t)=>{x&&(t&&(x.unobserve(t),h.current=!1),e&&x.observe(e))}),[x]),[w,j]=C(y),D=N(t);return s.useEffect((()=>{x&&w.current&&(x.disconnect(),h.current=!1,x.observe(w.current))}),[w,x]),s.useEffect((()=>(l({type:q.RegisterDroppable,element:{id:r,key:o,disabled:n,node:w,rect:f,data:D}}),()=>l({type:q.UnregisterDroppable,key:o,id:r}))),[r]),s.useEffect((()=>{n!==u.current.disabled&&(l({type:q.SetDroppableDisabled,id:r,key:o,disabled:n}),u.current.disabled=n)}),[r,o,n,l]),{active:a,rect:f,isOver:(null==c?void 0:c.id)===r,node:w,over:c,setNodeRef:j}}({id:a,data:D,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:O,activeNodeRect:B,attributes:F,setNodeRef:P,listeners:z,isDragging:_,over:U,setActivatorNodeRef:Y,transform:X}=Rt({id:a,data:D,attributes:{...Xt,...n},disabled:w.draggable}),K=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s.useMemo((()=>e=>{t.forEach((t=>t(e)))}),t)}(L,P),W=Boolean(A),H=W&&!g&&Lt(f)&&Lt(m),V=!b&&_,J=V&&H?X:null,$=H?null!=J?J:(null!=l?l:x)({rects:p,activeNodeRect:B,activeIndex:f,overIndex:m,index:j}):null,G=Lt(f)&&Lt(m)?o({id:a,items:u,activeIndex:f,overIndex:m}):j,Q=null==A?void 0:A.id,Z=s.useRef({activeId:Q,items:u,newIndex:G,containerId:h}),ee=u!==Z.current.items,te=t({active:A,containerId:h,isDragging:_,isSorting:W,id:a,index:j,items:u,newIndex:Z.current.newIndex,previousItems:Z.current.items,previousContainerId:Z.current.containerId,transition:d,wasDragging:null!=Z.current.activeId}),ne=function(e){let{disabled:t,index:n,node:r,rect:i}=e;const[o,a]=s.useState(null),l=s.useRef(n);return y((()=>{if(!t&&n!==l.current&&r.current){const e=i.current;if(e){const t=le(r.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&a(n)}}n!==l.current&&(l.current=n)}),[t,n,r,i]),s.useEffect((()=>{o&&a(null)}),[o]),o}({disabled:!te,index:j,node:M,rect:R});return s.useEffect((()=>{W&&Z.current.newIndex!==G&&(Z.current.newIndex=G),h!==Z.current.containerId&&(Z.current.containerId=h),u!==Z.current.items&&(Z.current.items=u)}),[W,G,h,u]),s.useEffect((()=>{if(Q===Z.current.activeId)return;if(null!=Q&&null==Z.current.activeId)return void(Z.current.activeId=Q);const e=setTimeout((()=>{Z.current.activeId=Q}),50);return()=>clearTimeout(e)}),[Q]),{active:A,activeIndex:f,attributes:F,data:D,rect:R,index:j,newIndex:G,items:u,isOver:k,isSorting:W,isDragging:_,listeners:z,node:M,overIndex:m,over:U,setNodeRef:K,setActivatorNodeRef:Y,setDroppableNodeRef:L,setDraggableNodeRef:P,transform:null!=ne?ne:$,transition:function(){if(ne||ee&&Z.current.newIndex===j)return qt;if(V&&!I(O)||!d)return;if(W||te)return T.Transition.toString({...d,property:Yt});return}()}}function Wt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Ht=[ke.Down,ke.Right,ke.Up,ke.Left],Vt=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:o,over:a,scrollableAncestors:s}}=t;if(Ht.includes(e.code)){if(e.preventDefault(),!n||!r)return;const t=[];o.getEnabled().forEach((n=>{if(!n||null!=n&&n.disabled)return;const o=i.get(n.id);if(o)switch(e.code){case ke.Down:r.top<o.top&&t.push(n);break;case ke.Up:r.top>o.top&&t.push(n);break;case ke.Left:r.left>o.left&&t.push(n);break;case ke.Right:r.left<o.left&&t.push(n)}}));const l=(e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Q(t),o=[];for(const a of r){const{id:e}=a,t=n.get(e);if(t){const n=Q(t),r=i.reduce(((e,t,r)=>e+J(n[r],t)),0),s=Number((r/4).toFixed(4));o.push({id:e,data:{droppableContainer:a,value:s}})}}return o.sort($)})({collisionRect:r,droppableRects:i,droppableContainers:t});let c=Z(l,"id");if(c===(null==a?void 0:a.id)&&l.length>1&&(c=l[1].id),null!=c){const e=o.get(n.id),t=o.get(c),a=t?i.get(t.id):null,l=null==t?void 0:t.node.current;if(l&&a&&e&&t){const n=de(l).some(((e,t)=>s[t]!==e)),i=Jt(e,t),o=function(e,t){if(!Wt(e)||!Wt(t))return!1;if(!Jt(e,t))return!1;return e.data.current.sortable.index<t.data.current.sortable.index}(e,t),c=n||!i?{x:0,y:0}:{x:o?r.width-a.width:0,y:o?r.height-a.height:0},d={x:a.left,y:a.top};return c.x&&c.y?d:k(d,c)}}}};function Jt(e,t){return!(!Wt(e)||!Wt(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}const $t=({lecture:r,lectureIndex:i,sectionId:o})=>{const[a]=e(),[s]=t(),[c,d]=l.useState(!1),[u,h]=l.useState(""),{attributes:f,listeners:v,setNodeRef:g,transform:p,transition:m,isDragging:b}=Kt({id:r.id}),x={transform:T.Transform.toString(p),transition:m,opacity:b?.5:1},y=e=>{const t=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`},w=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n},[N,j]=l.useState({title:r.title,description:r.description,duration:y(r.duration),youtubeLink:r.video_url});return n.jsx("div",{ref:g,style:x,...f,children:n.jsx("div",{className:"list-group-item border-0 bg-transparent p-0 mb-3",children:c?n.jsx("div",{className:"card border-0 bg-light",children:n.jsx("div",{className:"card-body",children:n.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(/^([0-9]{2}):([0-5][0-9])$/.test(N.duration)){h("");try{await a({id:r.id,section_id:o,title:N.title,description:N.description,duration:w(N.duration),video_url:N.youtubeLink,position:r.position,is_preview:r.is_preview}),d(!1)}catch(t){console.error("Failed to update lecture:",t)}}else h("Format durasi harus MM:SS, contoh: 02:30")},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Lecture Title"}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Enter lecture title",value:N.title,onChange:e=>j({...N,title:e.target.value}),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Lecture Description"}),n.jsx("textarea",{className:"form-control",placeholder:"Enter lecture description",value:N.description,onChange:e=>j({...N,description:e.target.value}),rows:3,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Duration"}),n.jsxs("div",{className:"input-group",children:[n.jsx("input",{type:"text",className:"form-control",placeholder:"MM:SS",value:N.duration,onChange:e=>{j({...N,duration:e.target.value})},pattern:"[0-9]{2}:[0-5][0-9]",title:"Please enter duration in MM:SS format (e.g., 02:30)",required:!0,style:{fontFamily:"monospace",letterSpacing:"1px"}}),n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"bi bi-clock"})})]}),n.jsx("div",{className:"form-text",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("i",{className:"bi bi-info-circle me-1"}),"Enter duration in MM:SS format (e.g., 02:30 for 2 minutes and 30 seconds)"]})}),u&&n.jsx("div",{className:"text-danger small mt-1",children:u})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"form-label",children:"YouTube Video URL"}),n.jsx("input",{type:"url",className:"form-control",placeholder:"Enter YouTube video URL",value:N.youtubeLink,onChange:e=>j({...N,youtubeLink:e.target.value}),required:!0})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:"Save Changes"}),n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>d(!1),children:"Cancel"})]})]})})}):n.jsx("div",{className:"card shadow-sm",children:n.jsx("div",{className:"card-body",children:n.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[n.jsxs("div",{className:"flex-grow-1",children:[n.jsxs("div",{className:"d-flex align-items-center mb-2",children:[n.jsx("div",{className:"me-3 cursor-grab",...v,style:{cursor:"grab"},children:n.jsx("i",{className:"bi bi-grip-vertical fs-4"})}),n.jsx("span",{className:"badge bg-primary me-2",children:i+1}),n.jsx("h5",{className:"card-title mb-0",children:r.title})]}),n.jsx("p",{className:"card-text text-muted mb-3",children:r.description}),n.jsxs("div",{className:"d-flex align-items-center gap-3",children:[n.jsxs("span",{className:"text-muted",children:[n.jsx("i",{className:"bi bi-clock me-1"}),y(r.duration)]}),r.video_url&&n.jsxs("a",{href:r.video_url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-secondary",children:[n.jsx("i",{className:"bi bi-youtube me-1"}),"Watch Video"]})]})]}),n.jsxs("div",{className:"d-flex gap-2 ms-3",children:[n.jsx("button",{className:"btn btn-light",onClick:()=>d(!0),children:n.jsx("i",{className:"bi bi-pencil"})}),n.jsx("button",{className:"btn btn-light text-danger",onClick:async()=>{if(window.confirm("Are you sure you want to delete this lecture?"))try{await s(r.id)}catch(e){console.error("Failed to delete lecture:",e)}},children:n.jsx("i",{className:"bi bi-trash"})})]})]})})})})})},Gt=({section:t,index:a,name:l})=>{const[c]=r(),[d]=i(),[u,{isLoading:h,isSuccess:f,data:v}]=e(),[g,p]=s.useState(!1),[m,b]=s.useState(!1),[x,y]=s.useState(!1),[w,N]=s.useState(""),[j,C]=s.useState({title:t.title,description:t.description}),[D,S]=s.useState({title:"",description:"",duration:"",youtubeLink:""}),[E,R]=s.useState(t.lectures||[]),M=H(W(Ue),W(Be,{coordinateGetter:Vt})),{attributes:k,listeners:I,setNodeRef:L,transform:A,transition:O,isDragging:B}=Kt({id:t.id}),F={transform:T.Transform.toString(A),transition:O,opacity:B?.5:1},P=e=>{const[t,n]=e.split(":").map(Number);return 60*t+n};return s.useEffect((()=>{f&&o.success(null==v?void 0:v.message)}),[v,f]),h?n.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):n.jsx("div",{ref:L,style:F,...k,children:n.jsx("div",{className:"card-body",children:g?n.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{await c({id:t.id,course_id:t.course_id,title:j.title,description:j.description,position:t.position}),p(!1)}catch(n){console.error("Failed to update section:",n)}},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Section Title"}),n.jsx("input",{type:"text",className:"form-control",value:j.title,onChange:e=>C({...j,title:e.target.value}),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Section Description"}),n.jsx("textarea",{className:"form-control",value:j.description,onChange:e=>C({...j,description:e.target.value}),rows:3,required:!0})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:"Save Changes"}),n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>p(!1),children:"Cancel"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-3",children:[n.jsxs("div",{className:"d-flex align-items-center",children:[n.jsx("div",{className:"me-3 cursor-grab",...I,style:{cursor:"grab"},children:n.jsx("i",{className:"bi bi-grip-vertical fs-4"})}),n.jsxs("div",{children:[n.jsxs("h5",{className:"card-title mb-1",children:["Section ",a+1,": ",t.title]}),n.jsx("p",{className:"card-text text-muted mb-0",children:t.description})]})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{className:"btn btn-light",onClick:()=>b(!m),title:m?"Hide Lectures":"Show Lectures",children:n.jsx("i",{className:"bi bi-chevron-"+(m?"up":"down")})}),n.jsx("button",{className:"btn btn-light",onClick:()=>p(!0),children:n.jsx("i",{className:"bi bi-pencil"})}),n.jsx("button",{className:"btn btn-light text-danger",onClick:async()=>{if(window.confirm("Are you sure you want to delete this section?"))try{await d(t.id)}catch(e){console.error("Failed to delete section:",e)}},children:n.jsx("i",{className:"bi bi-trash"})})]})]}),n.jsxs("div",{className:"ms-4 "+(m?"":"d-none"),children:[n.jsx(Dt,{sensors:M,collisionDetection:te,onDragEnd:async e=>{const{active:n,over:r}=e;if(n.id!==r.id){const e=E.findIndex((e=>e.id===n.id)),o=E.findIndex((e=>e.id===r.id)),a=kt(E,e,o);R(a);try{await Promise.all(a.map(((e,n)=>u({id:e.id,section_id:t.id,title:e.title,description:e.description,duration:e.duration,video_url:e.video_url,position:n,is_preview:e.is_preview}))))}catch(i){console.error("Failed to update lecture positions:",i),R(t.lectures)}}},children:n.jsx(Pt,{items:E.map((e=>e.id)),strategy:Ot,children:E.map(((e,r)=>n.jsx($t,{lecture:e,lectureIndex:r,sectionId:t.id},e.id)))})}),x?n.jsx("div",{className:"card border-0 bg-light mt-3",children:n.jsx("div",{className:"card-body",children:n.jsxs("form",{onSubmit:async e=>{e.preventDefault();if(/^([0-9]{2}):([0-5][0-9])$/.test(D.duration)){N("");try{const e=await u({section_id:t.id,title:D.title,description:D.description,duration:P(D.duration),video_url:D.youtubeLink,position:E.length,is_preview:!1});R([...E,e.data]),S({title:"",description:"",duration:"",youtubeLink:""}),y(!1)}catch(n){console.error("Failed to add lecture:",n)}}else N("Format durasi harus MM:SS, contoh: 02:30")},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Lecture Title"}),n.jsx("input",{type:"text",className:"form-control",placeholder:"Enter lecture title",value:D.title,onChange:e=>S({...D,title:e.target.value}),required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Lecture Description"}),n.jsx("textarea",{className:"form-control",placeholder:"Enter lecture description",value:D.description,onChange:e=>S({...D,description:e.target.value}),rows:3,required:!0})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Duration"}),n.jsxs("div",{className:"input-group",children:[n.jsx("input",{type:"text",className:"form-control",placeholder:"MM:SS",value:D.duration,onChange:e=>{S({...D,duration:e.target.value})},pattern:"[0-9]{2}:[0-5][0-9]",title:"Please enter duration in MM:SS format (e.g., 02:30)",required:!0,style:{fontFamily:"monospace",letterSpacing:"1px"}}),n.jsx("span",{className:"input-group-text",children:n.jsx("i",{className:"bi bi-clock"})})]}),n.jsx("div",{className:"form-text",children:n.jsxs("small",{className:"text-muted",children:[n.jsx("i",{className:"bi bi-info-circle me-1"}),"Enter duration in MM:SS format (e.g., 02:30 for 2 minutes and 30 seconds)"]})}),w&&n.jsx("div",{className:"text-danger small mt-1",children:w})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"form-label",children:"YouTube Video URL"}),n.jsx("input",{type:"url",className:"form-control",placeholder:"Enter YouTube video URL",value:D.youtubeLink,onChange:e=>S({...D,youtubeLink:e.target.value}),required:!0})]}),n.jsxs("div",{className:"d-flex gap-2",children:[n.jsx("button",{type:"submit",className:"btn btn-primary flex-grow-1",children:"Add Lecture"}),n.jsx("button",{type:"button",className:"btn btn-light",onClick:()=>y(!1),children:"Cancel"})]})]})})}):n.jsxs("button",{className:"btn btn-outline-primary w-100 mt-3",onClick:()=>y(!0),children:[n.jsx("i",{className:"bi bi-plus-lg me-2"}),"Add Lecture"]})]})]})})})},Qt=()=>{var e;const{id:t,name:i}=d(),{data:l,isLoading:c,error:h}=a(t),[f,{isSuccess:v,data:g,isLoading:p}]=r(),[m,b]=s.useState({title:"",description:""}),x=H(W(Ue),W(Be,{coordinateGetter:Vt}));return s.useEffect((()=>{v&&(o.success(null==g?void 0:g.message),console.log(g))}),[g,v]),c||p?n.jsx(u,{title:`Course - ${i.replace(/-/g," ")}`,children:n.jsx("div",{className:"d-flex justify-content-center align-items-center min-vh-100",children:n.jsx("div",{className:"spinner-border text-primary",role:"status",children:n.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):n.jsx(u,{title:`Course - ${i.replace(/-/g," ")}`,children:n.jsxs("div",{className:"container-fluid",children:[n.jsx("div",{className:"text-end mb-3",children:n.jsxs("button",{className:"btn btn-outline-primary btn-sm ","data-bs-toggle":"modal","data-bs-target":"#addSectionModal",children:[n.jsx("i",{className:"bi bi-plus-lg me-2"}),"Add Section"]})}),n.jsx("div",{className:"row g-4",children:(null==(e=null==l?void 0:l.sections)?void 0:e.length)>0?n.jsx(Dt,{sensors:x,collisionDetection:te,onDragEnd:e=>{const{active:n,over:r}=e;if(n.id!==r.id){const e=l.sections.findIndex((e=>e.id===n.id)),i=l.sections.findIndex((e=>e.id===r.id));kt(l.sections,e,i).forEach(((e,n)=>{f({id:e.id,course_id:t,title:e.title,description:e.description,position:n})}))}},children:n.jsx(Pt,{items:l.sections.map((e=>e.id)),strategy:Ot,children:l.sections.map(((e,t)=>n.jsx("div",{className:"col-12",children:n.jsx("div",{className:"card shadow-sm mb-4",children:n.jsx(Gt,{section:e,index:t,name:i})})},e.id)))})}):n.jsx("div",{className:"col-12",children:n.jsxs("div",{className:"alert alert-warning d-flex align-items-center",role:"alert",children:[n.jsx("i",{className:"bi bi-exclamation-triangle-fill me-2"}),n.jsx("div",{children:"No sections found. Start by adding your first section!"})]})})}),n.jsx("div",{className:"modal fade",id:"addSectionModal",tabIndex:"-1","data-bs-backdrop":"static","data-bs-keyboard":"false","aria-labelledby":"addSectionModalLabel","aria-hidden":"true",children:n.jsx("div",{className:"modal-dialog modal-dialog-centered",children:n.jsxs("div",{className:"modal-content",children:[n.jsxs("div",{className:"modal-header border-bottom-0",children:[n.jsx("h5",{className:"modal-title",id:"addSectionModalLabel",children:"Add New Section"}),n.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),n.jsx("div",{className:"modal-body",children:n.jsxs("form",{onSubmit:async e=>{var n;e.preventDefault();try{await f({course_id:t,title:m.title,description:m.description,position:(null==(n=null==l?void 0:l.sections)?void 0:n.length)||0}),b({title:"",description:""});document.querySelector("[data-bs-dismiss='modal']").click()}catch(r){console.error("Failed to add section:",r)}},children:[n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"form-label",children:"Section Title"}),n.jsx("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter section title",value:m.title,onChange:e=>b({...m,title:e.target.value}),required:!0})]}),n.jsxs("div",{className:"mb-4",children:[n.jsx("label",{className:"form-label",children:"Section Description"}),n.jsx("textarea",{className:"form-control",placeholder:"Enter section description",value:m.description,onChange:e=>b({...m,description:e.target.value}),rows:4,required:!0})]}),n.jsx("button",{type:"submit",className:"btn btn-primary w-100 py-2",children:"Add Section"})]})})]})})})]})})};export{Qt as default};
//# sourceMappingURL=DetailPage-C1BVmho7.js.map
