{"version":3,"file":"UserLayout-KxFlCO3D.js","sources":["../../src/pages/user/layout/UserLayout.jsx"],"sourcesContent":["import React, { useState, useEffect, use } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useLogoutMutation } from \"../../../controller/api/ApiAuth\";\r\nimport { setLogout } from \"../../../controller/slice/sliceAuth\";\r\nimport SEO from \"../../../components/SEO/SEO\";\r\nimport \"./UserLayout.css\";\r\n\r\nconst MENU_ITEMS = [\r\n  {\r\n    path: \"/user-dashboard\",\r\n    icon: \"bi-speedometer2\",\r\n    label: \"Dashboard\",\r\n  },\r\n  {\r\n    path: \"/user-payment\",\r\n    icon: \"bi-credit-card\",\r\n    label: \"Payments\",\r\n  },\r\n  {\r\n    path: \"/user-learning\",\r\n    icon: \"bi-mortarboard\",\r\n    label: \"My Learnings\",\r\n  },\r\n  {\r\n    path: \"/user-product\",\r\n    icon: \"bi-box\",\r\n    label: \"My Products\",\r\n  },\r\n  {\r\n    path: \"/referal-program\",\r\n    icon: \"bi-share\",\r\n    label: \"Referal Program\",\r\n  },\r\n];\r\n\r\nconst USER_MENU_ITEMS = [\r\n  {\r\n    path: \"/user-profile\",\r\n    icon: \"bi-person\",\r\n    label: \"Profile\",\r\n  },\r\n  {\r\n    path: \"/user-settings\",\r\n    icon: \"bi-gear\",\r\n    label: \"Settings\",\r\n    divider: true,\r\n  },\r\n];\r\n\r\nconst UserLayout = ({ children, title }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const { user, isSignin } = useSelector((state) => state.auth);\r\n\r\n  const [logout] = useLogoutMutation();\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(() => {\r\n    const savedState = localStorage.getItem(\"sidebarState\");\r\n    return savedState ? JSON.parse(savedState) : true;\r\n  });\r\n\r\n  const [isIconOnly, setIsIconOnly] = useState(() => {\r\n    const savedState = localStorage.getItem(\"sidebarIconOnly\");\r\n    return savedState ? JSON.parse(savedState) : false;\r\n  });\r\n\r\n  const [isDarkMode, setIsDarkMode] = useState(() => {\r\n    const savedTheme = localStorage.getItem(\"theme\");\r\n    return savedTheme === \"dark\";\r\n  });\r\n\r\n  const toggleSidebar = () => {\r\n    if (window.innerWidth >= 992) {\r\n      setIsIconOnly(!isIconOnly);\r\n    } else {\r\n      setIsSidebarOpen(!isSidebarOpen);\r\n    }\r\n  };\r\n\r\n  const toggleTheme = () => {\r\n    setIsDarkMode(!isDarkMode);\r\n  };\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"theme\", isDarkMode ? \"dark\" : \"light\");\r\n    localStorage.setItem(\"sidebarState\", JSON.stringify(isSidebarOpen));\r\n    localStorage.setItem(\"sidebarIconOnly\", JSON.stringify(isIconOnly));\r\n    document.body.setAttribute(\"data-theme\", isDarkMode ? \"dark\" : \"light\");\r\n    document.body.classList.add(\"theme-transition\");\r\n  }, [isDarkMode, isSidebarOpen, isIconOnly]);\r\n\r\n  const handleOverlayClick = () => {\r\n    if (window.innerWidth < 992) {\r\n      setIsSidebarOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout().unwrap();\r\n      dispatch(setLogout());\r\n      navigate(\"/signin\");\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      if (!isSignin) {\r\n        navigate(\"/signin\");\r\n      }\r\n    }, 1000);\r\n    return () => clearTimeout(timeout);\r\n  }, [isSignin]);\r\n\r\n  return (\r\n    <>\r\n      <SEO title={title} />\r\n      <div className={`wrapper ${isDarkMode ? \"dark-mode\" : \"light-mode\"}`}>\r\n        <div\r\n          className={`sidebar-overlay ${isSidebarOpen ? \"active\" : \"\"}`}\r\n          onClick={handleOverlayClick}\r\n        />\r\n\r\n        <nav\r\n          className={`sidebar ${\r\n            window.innerWidth >= 992\r\n              ? isIconOnly\r\n                ? \"icon-only\"\r\n                : \"\"\r\n              : isSidebarOpen\r\n              ? \"show\"\r\n              : \"\"\r\n          } ${isDarkMode ? \"bg-dark\" : \"bg-white border-end\"}`}\r\n          style={{ transition: \"all 0.3s ease\" }}\r\n        >\r\n          <div\r\n            className={`sidebar-header ${\r\n              isDarkMode ? \"border-bottom border-dark\" : \"border-bottom\"\r\n            }`}\r\n          >\r\n            <div className='brand-container'>\r\n              <img\r\n                src='/logo.png'\r\n                alt='ALMADEV'\r\n                width={32}\r\n                height={32}\r\n                className='brand-logo'\r\n                style={{ transition: \"transform 0.3s ease\" }}\r\n              />\r\n              <h3 className={`${isDarkMode ? \"text-white\" : \"text-dark\"} mb-0`}>\r\n                ALMADEV\r\n              </h3>\r\n            </div>\r\n          </div>\r\n          <div className='list-group list-group-flush'>\r\n            {MENU_ITEMS.map((item) => (\r\n              <Link\r\n                key={item.path}\r\n                to={item.path}\r\n                className={`list-group-item list-group-item-action ${\r\n                  isDarkMode ? \"bg-dark text-white\" : \"bg-white text-dark\"\r\n                } ${location.pathname === item.path ? \"active\" : \"\"}`}\r\n                title={isIconOnly ? item.label : \"\"}\r\n                style={{\r\n                  transition: \"all 0.2s ease\",\r\n                  position: \"relative\",\r\n                  overflow: \"hidden\",\r\n                }}\r\n              >\r\n                <i className={`bi ${item.icon} me-2`}></i>\r\n                {!isIconOnly && <span>{item.label}</span>}\r\n                {location.pathname === item.path && (\r\n                  <span\r\n                    className='active-indicator'\r\n                    style={{\r\n                      position: \"absolute\",\r\n                      left: 0,\r\n                      top: 0,\r\n                      bottom: 0,\r\n                      width: \"3px\",\r\n                      backgroundColor: \"#0d6efd\",\r\n                      transition: \"transform 0.3s ease\",\r\n                    }}\r\n                  />\r\n                )}\r\n              </Link>\r\n            ))}\r\n          </div>\r\n        </nav>\r\n\r\n        <div\r\n          className={`main-content ${\r\n            window.innerWidth >= 992\r\n              ? isIconOnly\r\n                ? \"sidebar-icon-only\"\r\n                : \"\"\r\n              : \"\"\r\n          } ${isDarkMode ? \"bg-dark\" : \"bg-light\"}`}\r\n          style={{ transition: \"margin-left 0.3s ease\" }}\r\n        >\r\n          <nav\r\n            className={`navbar navbar-expand-lg ${\r\n              isDarkMode\r\n                ? \"navbar-dark bg-dark border-bottom border-secondary\"\r\n                : \"navbar-light bg-white\"\r\n            } shadow-sm`}\r\n            style={{ transition: \"all 0.3s ease\" }}\r\n          >\r\n            <div className='container-fluid'>\r\n              <button\r\n                className={`btn ${\r\n                  isDarkMode ? \"btn-outline-light\" : \"btn-outline-dark\"\r\n                } d-flex align-items-center justify-content-center`}\r\n                onClick={toggleSidebar}\r\n                title={isSidebarOpen ? \"Hide Sidebar\" : \"Show Sidebar\"}\r\n                style={{\r\n                  width: \"38px\",\r\n                  height: \"38px\",\r\n                  transition: \"all 0.2s ease\",\r\n                  padding: 0,\r\n                }}\r\n              >\r\n                <i className='bi bi-list'></i>\r\n              </button>\r\n              <span className='navbar-brand ms-2 fw-semibold'>{title}</span>\r\n\r\n              <div className='ms-auto d-flex gap-3 align-items-center'>\r\n                <div className='dropdown'>\r\n                  <button\r\n                    className={`btn rounded-circle btn-outline-${\r\n                      isDarkMode ? \"light\" : \"dark\"\r\n                    } dropdown-toggle d-flex align-items-center justify-content-center`}\r\n                    type='button'\r\n                    id='userDropdown'\r\n                    data-bs-toggle='dropdown'\r\n                    title='User Menu'\r\n                    style={{\r\n                      width: \"38px\",\r\n                      height: \"38px\",\r\n                      transition: \"all 0.2s ease\",\r\n                      padding: 0,\r\n                    }}\r\n                  >\r\n                    {user?.name ? (\r\n                      <span\r\n                        className='fs-6 fw-medium'\r\n                        style={{\r\n                          width: \"100%\",\r\n                          height: \"100%\",\r\n                          display: \"flex\",\r\n                          alignItems: \"center\",\r\n                          justifyContent: \"center\",\r\n                          backgroundColor: isDarkMode\r\n                            ? \"rgba(255,255,255,0.1)\"\r\n                            : \"rgba(0,0,0,0.1)\",\r\n                          borderRadius: \"50%\",\r\n                          transition: \"background-color 0.3s ease\",\r\n                        }}\r\n                      >\r\n                        {user.name\r\n                          .split(\" \")\r\n                          .slice(0, 2)\r\n                          .map((name) => name.charAt(0))\r\n                          .join(\"\")\r\n                          .toUpperCase()}\r\n                      </span>\r\n                    ) : (\r\n                      <i className='bi bi-person-circle'></i>\r\n                    )}\r\n                  </button>\r\n                  <ul\r\n                    className={`dropdown-menu dropdown-menu-end ${\r\n                      isDarkMode ? \"dropdown-menu-dark\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {USER_MENU_ITEMS.map((item) => (\r\n                      <React.Fragment key={item.path}>\r\n                        <li>\r\n                          <Link\r\n                            className='dropdown-item d-flex align-items-center'\r\n                            to={item.path}\r\n                            style={{ transition: \"background-color 0.2s ease\" }}\r\n                          >\r\n                            <i className={`bi ${item.icon} me-2`}></i>\r\n                            {item.label}\r\n                          </Link>\r\n                        </li>\r\n                        {item.divider && (\r\n                          <li>\r\n                            <hr className='dropdown-divider' />\r\n                            <button\r\n                              className='dropdown-item d-flex align-items-center text-danger'\r\n                              onClick={handleLogout}\r\n                              style={{\r\n                                transition: \"background-color 0.2s ease\",\r\n                              }}\r\n                            >\r\n                              <i className='bi bi-box-arrow-right me-2'></i>\r\n                              Logout\r\n                            </button>\r\n                          </li>\r\n                        )}\r\n                      </React.Fragment>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n\r\n                <button\r\n                  className={`rounded-circle btn ${\r\n                    isDarkMode ? \"btn-outline-light\" : \"btn-outline-dark\"\r\n                  } d-flex align-items-center justify-content-center`}\r\n                  onClick={toggleTheme}\r\n                  title={\r\n                    isDarkMode ? \"Switch to Light Mode\" : \"Switch to Dark Mode\"\r\n                  }\r\n                  style={{\r\n                    width: \"38px\",\r\n                    height: \"38px\",\r\n                    transition: \"all 0.2s ease\",\r\n                    padding: 0,\r\n                  }}\r\n                >\r\n                  <i className={`bi ${isDarkMode ? \"bi-sun\" : \"bi-moon\"}`}></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </nav>\r\n\r\n          <div\r\n            className={`container-fluid p-4 ${\r\n              isDarkMode ? \"text-white\" : \"text-dark\"\r\n            }`}\r\n          >\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserLayout;\r\n"],"names":["MENU_ITEMS","path","icon","label","USER_MENU_ITEMS","divider","UserLayout","children","title","location","useLocation","navigate","useNavigate","dispatch","useDispatch","user","isSignin","useSelector","state","auth","logout","useLogoutMutation","isSidebarOpen","setIsSidebarOpen","useState","savedState","localStorage","getItem","JSON","parse","isIconOnly","setIsIconOnly","isDarkMode","setIsDarkMode","useEffect","setItem","stringify","document","body","setAttribute","classList","add","handleLogout","async","unwrap","setLogout","error","console","timeout","setTimeout","clearTimeout","jsxRuntimeExports","jsxs","Fragment","SEO","className","jsx","onClick","window","innerWidth","style","transition","src","alt","width","height","map","item","Link","to","pathname","position","overflow","left","top","bottom","backgroundColor","padding","type","id","name","display","alignItems","justifyContent","borderRadius","split","slice","charAt","join","toUpperCase","React"],"mappings":"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"}