{"version":3,"file":"Products-bsEFjXaj.js","sources":["../../src/pages/product/Products.jsx"],"sourcesContent":["import React, { Fragment, useState } from \"react\";\r\nimport Navbar from \"../../components/Navbar/Navbar\";\r\nimport Footer from \"../../components/Footer/Footer\";\r\nimport SEO from \"../../components/SEO/SEO\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useGetProductsQuery } from \"../../controller/api/admin/ApiProduct\";\r\n\r\nconst Products = () => {\r\n  const [page, setPage] = useState(1);\r\n  const [limit, setLimit] = useState(16);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const { data, isLoading, error } = useGetProductsQuery({\r\n    page,\r\n    limit,\r\n    search,\r\n  });\r\n\r\n  const {\r\n    products = [],\r\n    total = 0,\r\n    page: totalPage,\r\n    limit: totalLimit,\r\n  } = data || {};\r\n\r\n  const renderStars = (rating) => {\r\n    const stars = [];\r\n    const fullStars = Math.floor(rating);\r\n    const hasHalfStar = rating % 1 !== 0;\r\n\r\n    for (let i = 0; i < fullStars; i++) {\r\n      stars.push(\r\n        <i key={`full-${i}`} className='bi bi-star-fill text-warning'></i>\r\n      );\r\n    }\r\n    if (hasHalfStar) {\r\n      stars.push(<i key='half' className='bi bi-star-half text-warning'></i>);\r\n    }\r\n    const emptyStars = 5 - Math.ceil(rating);\r\n    for (let i = 0; i < emptyStars; i++) {\r\n      stars.push(\r\n        <i key={`empty-${i}`} className='bi bi-star text-warning'></i>\r\n      );\r\n    }\r\n\r\n    return stars;\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setPage(1); // Reset to first page when searching\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const start = 240;\r\n\r\n  const seoData = {\r\n    title: \"Products - ALMADEV\",\r\n    description:\r\n      \"Explore our collection of professional web development courses and tools. Find the perfect resources to advance your development skills.\",\r\n    keywords:\r\n      \"web development courses, programming tools, online learning, development resources\",\r\n    structuredData: {\r\n      \"@context\": \"https://schema.org\",\r\n      \"@type\": \"ItemList\",\r\n      itemListElement: products?.map((product, index) => ({\r\n        \"@type\": \"Product\",\r\n        position: index + 1,\r\n        name: product.name,\r\n        description: product.description,\r\n        image: product.image,\r\n        offers: {\r\n          \"@type\": \"Offer\",\r\n          price: product.price,\r\n          priceCurrency: \"IDR\",\r\n          availability: \"https://schema.org/InStock\",\r\n        },\r\n        aggregateRating: {\r\n          \"@type\": \"AggregateRating\",\r\n          ratingValue: product.rating || \"0\",\r\n          reviewCount: product.reviewCount || \"0\",\r\n        },\r\n      })),\r\n    },\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Fragment>\r\n        <SEO title='Loading Products - ALMADEV' />\r\n        <Navbar />\r\n        <main style={{ marginTop: 80 }} className='container py-3'>\r\n          <div className='d-flex justify-content-center'>\r\n            <div className='spinner-border text-primary' role='status'>\r\n              <span className='visually-hidden'>Loading...</span>\r\n            </div>\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Fragment>\r\n        <SEO title='Error - Products - ALMADEV' />\r\n        <Navbar />\r\n        <main style={{ marginTop: 80 }} className='container py-3'>\r\n          <div className='alert alert-danger' role='alert'>\r\n            Error loading products. Please try again later.\r\n          </div>\r\n        </main>\r\n        <Footer />\r\n      </Fragment>\r\n    );\r\n  }\r\n\r\n  console.log(products);\r\n\r\n  return (\r\n    <Fragment>\r\n      <SEO {...seoData} />\r\n      <Navbar />\r\n      <main style={{ marginTop: 80 }} className='container py-3'>\r\n        <h2 className='text-center mb-4'>Products</h2>\r\n\r\n        {/* Search Form */}\r\n        <form onSubmit={handleSearch} className='mb-4'>\r\n          <div className='input-group'>\r\n            <input\r\n              type='text'\r\n              className='form-control'\r\n              placeholder='Search products...'\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n            <button className='btn btn-primary' type='submit'>\r\n              Search\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        {/* Products Grid */}\r\n        <div className='row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4'>\r\n          {products?.map((product) => (\r\n            <div key={product.id} className='col'>\r\n              <div className='card h-100 shadow-sm hover-shadow'>\r\n                <img\r\n                  src={product.image}\r\n                  className='card-img-top'\r\n                  alt={product.name}\r\n                  style={{ height: \"200px\", objectFit: \"cover\" }}\r\n                />\r\n                <div className='card-body'>\r\n                  <h5 className='card-title'>{product.name}</h5>\r\n\r\n                  <p className='card-text fw-bold text-primary'>\r\n                    Rp {parseFloat(product.price).toLocaleString(\"id-ID\")}\r\n                  </p>\r\n\r\n                  <div className='d-flex align-items-center mb-2'>\r\n                    <div className='me-2'>{renderStars(product.rating)}</div>\r\n                    <small className='text-muted'>\r\n                      {product.rating\r\n                        ? Number(product.rating).toFixed(1)\r\n                        : \"0.0\"}\r\n                      {product.reviewCount ? ` (${product.reviewCount})` : \"\"}\r\n                    </small>\r\n                  </div>\r\n\r\n                  <div className='text-success mb-3'>\r\n                    <i className='bi bi-graph-up-arrow me-1'></i>\r\n                    {(Number(product?.totalsales) + start).toLocaleString(\r\n                      \"id-ID\"\r\n                    )}{\" \"}\r\n                    sold\r\n                  </div>\r\n\r\n                  <Link\r\n                    to={`/product/${product.id}/${product.name.replace(\r\n                      / /g,\r\n                      \"-\"\r\n                    )}`}\r\n                    className='btn btn-primary w-100'>\r\n                    View Details\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Pagination */}\r\n        {total > 0 && (\r\n          <nav className='mt-4'>\r\n            <ul className='pagination pagination-sm justify-content-center'>\r\n              <li className={`page-item ${page === 1 ? \"disabled\" : \"\"}`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() => handlePageChange(page - 1)}\r\n                  disabled={page === 1}>\r\n                  <i className='bi bi-chevron-double-left'></i>\r\n                </button>\r\n              </li>\r\n              {[...Array(Math.ceil(total / limit))].map((_, index) => (\r\n                <li\r\n                  key={index + 1}\r\n                  className={`page-item ${page === index + 1 ? \"active\" : \"\"}`}>\r\n                  <button\r\n                    className='page-link'\r\n                    onClick={() => handlePageChange(index + 1)}>\r\n                    {index + 1}\r\n                  </button>\r\n                </li>\r\n              ))}\r\n              <li\r\n                className={`page-item ${\r\n                  page === Math.ceil(total / limit) ? \"disabled\" : \"\"\r\n                }`}>\r\n                <button\r\n                  className='page-link'\r\n                  onClick={() => handlePageChange(page + 1)}\r\n                  disabled={page === Math.ceil(total / limit)}>\r\n                  <i className='bi bi-chevron-double-right'></i>\r\n                </button>\r\n              </li>\r\n            </ul>\r\n          </nav>\r\n        )}\r\n      </main>\r\n      <Footer />\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"names":["Products","page","setPage","useState","limit","setLimit","search","setSearch","data","isLoading","error","useGetProductsQuery","products","total","totalPage","totalLimit","renderStars","rating","stars","fullStars","Math","floor","hasHalfStar","i","push","className","jsx","emptyStars","ceil","handlePageChange","newPage","seoData","title","description","keywords","structuredData","itemListElement","map","product","index","position","name","image","offers","price","priceCurrency","availability","aggregateRating","ratingValue","reviewCount","Fragment","children","SEO","Navbar","style","marginTop","role","Footer","console","log","jsxs","onSubmit","e","preventDefault","jsxRuntimeExports","type","placeholder","value","onChange","target","src","alt","height","objectFit","parseFloat","toLocaleString","Number","toFixed","totalsales","Link","to","id","replace","onClick","disabled","Array","_"],"mappings":"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"}