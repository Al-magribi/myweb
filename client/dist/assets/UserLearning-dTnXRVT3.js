import{j as e,E as s}from"./index-bVVBLiuW.js";import{b as a,L as r}from"./vendor-CCW8Is9m.js";import{U as l}from"./UserLayout-DEwahoA-.js";const t=({currentPage:s,totalPages:a,onPageChange:r,isDarkMode:l})=>{if(a<=1)return null;const t=[];for(let e=1;e<=a;e++)t.push(e);return e.jsx("nav",{children:e.jsxs("ul",{className:"pagination justify-content-center "+(l?"pagination-dark":""),children:[e.jsx("li",{className:"page-item "+(1===s?"disabled":""),children:e.jsx("button",{className:"page-link "+(l?"bg-dark border-secondary text-light":""),onClick:()=>r(s-1),disabled:1===s,children:e.jsx("span",{"aria-hidden":"true",children:"«"})})}),t.map((a=>e.jsx("li",{className:"page-item "+(s===a?"active":""),children:e.jsx("button",{className:"page-link "+(l?s===a?"bg-primary border-primary text-light":"bg-dark border-secondary text-light":""),onClick:()=>r(a),children:a})},a))),e.jsx("li",{className:"page-item "+(s===a?"disabled":""),children:e.jsx("button",{className:"page-link "+(l?"bg-dark border-secondary text-light":""),onClick:()=>r(s+1),disabled:s===a,children:e.jsx("span",{"aria-hidden":"true",children:"»"})})})]})})},i=()=>{const[i,n]=a.useState(1),[c,d]=a.useState(""),[o,m]=a.useState(""),[h,g]=a.useState("recent"),{data:x,isLoading:j,error:u}=s(),p=x?x.filter((e=>{const s=e.title.toLowerCase().includes(c.toLowerCase()),a=!o||e.category===o;return s&&a})).sort(((e,s)=>{switch(h){case"recent":return new Date(s.enrollment_date)-new Date(e.enrollment_date);case"title":return e.title.localeCompare(s.title);default:return 0}})):[],b=6*i,N=b-6,v=p.slice(N,b),y=Math.ceil(p.length/6),f=x?[...new Set(x.map((e=>e.category)))]:[];return j?e.jsx(l,{title:"My Learning",children:e.jsx("div",{className:"text-center py-5",children:e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})}):u?(console.log(u),e.jsx(l,{title:"My Learning",children:e.jsx("div",{className:"alert alert-danger",role:"alert",children:"Error loading courses. Please try again later."})})):e.jsxs(l,{title:"My Learning",children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text border-end-0",children:e.jsx("i",{className:"bi bi-search"})}),e.jsx("input",{type:"text",className:"form-control border-start-0",placeholder:"Search your courses...",value:c,onChange:e=>d(e.target.value)})]})}),e.jsxs("div",{className:"col-md-6 d-flex justify-content-md-end mt-3 mt-md-0 gap-2",children:[e.jsxs("select",{className:"form-select w-auto",value:o,onChange:e=>m(e.target.value),children:[e.jsx("option",{value:"",children:"All Categories"}),f.map((s=>e.jsx("option",{value:s,children:s},s)))]}),e.jsxs("select",{className:"form-select w-auto",value:h,onChange:e=>g(e.target.value),children:[e.jsx("option",{value:"recent",children:"Recently Enrolled"}),e.jsx("option",{value:"title",children:"Course Title"})]})]})]}),e.jsx("div",{className:"row g-4",children:v.length>0?v.map((s=>e.jsx("div",{className:"col-md-6 col-lg-4",children:e.jsxs("div",{className:"card h-100 border-0 shadow-sm",children:[e.jsx("img",{src:s.thumbnail,className:"card-img-top",alt:s.title,style:{height:"200px",objectFit:"cover"}}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("span",{className:"badge bg-primary",children:s.category}),e.jsxs("small",{children:["Enrolled:"," ",new Date(s.enrollment_date).toLocaleDateString()]})]}),e.jsx("h5",{className:"card-title mb-1",children:s.title}),e.jsxs("p",{className:"small mb-2",children:["by ",s.instructor]}),e.jsx("div",{className:"progress mb-3",style:{height:"5px"},children:e.jsx("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:`${s.progress}%`},"aria-valuenow":s.progress,"aria-valuemin":"0","aria-valuemax":"100"})}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("span",{className:"small",children:[s.completed_lessons," of ",s.total_lessons," ","lessons"]}),e.jsxs("span",{className:"fw-bold",children:[s.progress,"%"]})]})]}),e.jsx("div",{className:"card-footer bg-transparent border-0",children:e.jsx("div",{className:"d-grid",children:e.jsxs(r,{to:`/learning/course/${s.id}/${s.title.replace(/ /g,"-")}`,className:"btn btn-primary",children:[e.jsx("i",{className:"bi bi-play-circle me-2"}),"Continue Learning"]})})})]})},s.id))):e.jsxs("div",{className:"col-12 text-center py-5",children:[e.jsx("h4",{children:"No courses found"}),e.jsx("p",{className:"text-muted",children:"Try adjusting your search or filters"})]})}),y>1&&e.jsx("div",{className:"mt-4",children:e.jsx(t,{currentPage:i,totalPages:y,onPageChange:e=>{n(e)}})})]})};export{i as default};
//# sourceMappingURL=UserLearning-dTnXRVT3.js.map
