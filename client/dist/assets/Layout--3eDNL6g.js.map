{"version":3,"file":"Layout--3eDNL6g.js","sources":["../../src/pages/admin/layout/Layout.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useLogoutMutation } from \"../../../controller/api/ApiAuth\";\r\nimport { setLogout } from \"../../../controller/slice/sliceAuth\";\r\nimport {\r\n  FaTachometerAlt,\r\n  FaBox,\r\n  FaProjectDiagram,\r\n  FaBook,\r\n  FaCog,\r\n  FaBars,\r\n  FaTimes,\r\n  FaOpencart,\r\n} from \"react-icons/fa\";\r\n\r\nconst Layout = ({ children, title }) => {\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(window.innerWidth >= 992);\r\n  const [showSidebarMobile, setShowSidebarMobile] = useState(false);\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n  const [logout] = useLogoutMutation();\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      setIsSidebarOpen(window.innerWidth >= 992);\r\n      if (window.innerWidth >= 992) {\r\n        setShowSidebarMobile(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  const menuItems = [\r\n    {\r\n      path: \"/admin\",\r\n      icon: <FaTachometerAlt />,\r\n      label: \"Dashboard\",\r\n    },\r\n    {\r\n      path: \"/admin/products\",\r\n      icon: <FaBox />,\r\n      label: \"Products\",\r\n    },\r\n    {\r\n      path: \"/admin/orders\",\r\n      icon: <FaOpencart />,\r\n      label: \"Orders\",\r\n    },\r\n    {\r\n      path: \"/admin/projects\",\r\n      icon: <FaProjectDiagram />,\r\n      label: \"Projects\",\r\n    },\r\n    {\r\n      path: \"/admin/courses\",\r\n      icon: <FaBook />,\r\n      label: \"Courses\",\r\n    },\r\n    {\r\n      path: \"/admin/settings\",\r\n      icon: <FaCog />,\r\n      label: \"Settings\",\r\n    },\r\n  ];\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout().unwrap();\r\n      dispatch(setLogout());\r\n      navigate(\"/auth\");\r\n    } catch (error) {\r\n      console.error(\"Logout failed:\", error);\r\n    }\r\n  };\r\n\r\n  // Sidebar component\r\n  const Sidebar = (\r\n    <div\r\n      className={`bg-dark text-white sidebar ${\r\n        isSidebarOpen || showSidebarMobile ? \"open\" : \"closed\"\r\n      }`}\r\n      style={{\r\n        width: isSidebarOpen || showSidebarMobile ? \"250px\" : \"70px\",\r\n        minHeight: \"100vh\",\r\n        transition: \"all 0.3s\",\r\n        position: window.innerWidth < 992 ? \"fixed\" : \"fixed\",\r\n        zIndex: 1,\r\n        left: 0,\r\n        top: 0,\r\n        display:\r\n          isSidebarOpen || showSidebarMobile\r\n            ? \"block\"\r\n            : window.innerWidth < 992\r\n            ? \"none\"\r\n            : undefined,\r\n        boxShadow:\r\n          window.innerWidth < 992 && showSidebarMobile\r\n            ? \"2px 0 8px rgba(0,0,0,0.2)\"\r\n            : undefined,\r\n      }}\r\n    >\r\n      <div className=\"p-3 d-flex justify-content-between align-items-center\">\r\n        {(isSidebarOpen || showSidebarMobile) && (\r\n          <h5 className=\"m-0\">Admin Panel</h5>\r\n        )}\r\n        <button\r\n          className=\"btn btn-link text-white p-0\"\r\n          onClick={() => {\r\n            if (window.innerWidth < 992) setShowSidebarMobile(false);\r\n            else setIsSidebarOpen(!isSidebarOpen);\r\n          }}\r\n        >\r\n          <FaTimes />\r\n        </button>\r\n      </div>\r\n      <hr className=\"text-white-50\" />\r\n      <ul className=\"nav flex-column\">\r\n        {menuItems.map((item) => (\r\n          <li key={item.path} className=\"nav-item\">\r\n            <Link\r\n              to={item.path}\r\n              className={`nav-link text-white d-flex align-items-center ${\r\n                location.pathname === item.path ? \"active bg-primary\" : \"\"\r\n              }`}\r\n              style={{\r\n                padding: \"0.8rem 1rem\",\r\n                transition: \"all 0.3s\",\r\n                whiteSpace: \"nowrap\",\r\n              }}\r\n              onClick={() => {\r\n                if (window.innerWidth < 992) setShowSidebarMobile(false);\r\n              }}\r\n            >\r\n              <span className=\"me-3\" style={{ minWidth: \"20px\" }}>\r\n                {item.icon}\r\n              </span>\r\n              {(isSidebarOpen || showSidebarMobile) && (\r\n                <span>{item.label}</span>\r\n              )}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"d-flex\">\r\n      <title>{title}</title>\r\n      {/* Sidebar for desktop and mobile overlay */}\r\n      {window.innerWidth >= 992 ? Sidebar : showSidebarMobile && Sidebar}\r\n      {/* Overlay for mobile */}\r\n      {showSidebarMobile && window.innerWidth < 992 && (\r\n        <div\r\n          className=\"position-fixed bg-dark\"\r\n          style={{\r\n            top: 0,\r\n            left: 0,\r\n            right: 0,\r\n            bottom: 0,\r\n            opacity: 0.3,\r\n            zIndex: 99,\r\n          }}\r\n          onClick={() => setShowSidebarMobile(false)}\r\n        />\r\n      )}\r\n      {/* Main Content */}\r\n      <div\r\n        className=\"flex-grow-1\"\r\n        style={{\r\n          marginLeft:\r\n            window.innerWidth < 992 ? 0 : isSidebarOpen ? \"250px\" : \"70px\",\r\n          transition: \"all 0.3s\",\r\n          minHeight: \"100vh\",\r\n          backgroundColor: \"#f8f9fa\",\r\n          width: \"100%\",\r\n        }}\r\n      >\r\n        {/* Top Navigation */}\r\n        <nav\r\n          className=\"navbar navbar-expand-lg navbar-light bg-white shadow-sm\"\r\n          style={{ height: \"60px\" }}\r\n        >\r\n          <div className=\"container-fluid\">\r\n            <div className=\"d-flex align-items-center\">\r\n              {/* Hamburger button for mobile */}\r\n              {window.innerWidth < 992 && (\r\n                <button\r\n                  className=\"btn btn-link text-dark me-2\"\r\n                  onClick={() => setShowSidebarMobile(true)}\r\n                >\r\n                  <FaBars />\r\n                </button>\r\n              )}\r\n              <h5 className=\"m-0 ms-3\">{title}</h5>\r\n            </div>\r\n            <div className=\"d-flex align-items-center\">\r\n              <div className=\"dropdown\">\r\n                <button\r\n                  className=\"btn btn-outline-success dropdown-toggle\"\r\n                  type=\"button\"\r\n                  id=\"userDropdown\"\r\n                  data-bs-toggle=\"dropdown\"\r\n                  aria-expanded=\"false\"\r\n                >\r\n                  <i className=\"bi bi-person-circle me-2\"></i>\r\n                  Admin\r\n                </button>\r\n                <ul\r\n                  className=\"dropdown-menu dropdown-menu-end\"\r\n                  aria-labelledby=\"userDropdown\"\r\n                >\r\n                  <li>\r\n                    <a className=\"dropdown-item\" href=\"#\">\r\n                      Profile\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a className=\"dropdown-item\" href=\"#\">\r\n                      Settings\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <hr className=\"dropdown-divider\" />\r\n                  </li>\r\n                  <li>\r\n                    <button className=\"dropdown-item\" onClick={handleLogout}>\r\n                      Logout\r\n                    </button>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n\r\n        {/* Page Content */}\r\n        <div className=\"p-4\">{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Layout;\r\n"],"names":["Layout","children","title","isSidebarOpen","setIsSidebarOpen","useState","window","innerWidth","showSidebarMobile","setShowSidebarMobile","location","useLocation","navigate","useNavigate","dispatch","useDispatch","logout","useLogoutMutation","useEffect","handleResize","addEventListener","removeEventListener","menuItems","path","icon","FaTachometerAlt","label","FaBox","FaOpencart","FaProjectDiagram","FaBook","FaCog","Sidebar","jsxRuntimeExports","jsxs","className","style","width","minHeight","transition","position","zIndex","left","top","display","boxShadow","jsx","onClick","FaTimes","map","item","Link","to","pathname","padding","whiteSpace","minWidth","right","bottom","opacity","marginLeft","backgroundColor","height","FaBars","type","id","href","async","unwrap","setLogout","error","console"],"mappings":"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"}